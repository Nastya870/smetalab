
> berry-material-react-js@4.1.2 test:integration
> vitest run tests/integration roles.api.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Admin/Desktop/smetalab v3[39m

[dotenv@17.2.3] injecting env (14) from .env -- tip: Ñ‚Ð¬Ð• audit secrets and track compliance: https://dotenvx.com/ops

Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð 
ÐÐ¯Ð¤Ð· SETUP: â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡ â•¨â•â•¨â••â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â••â•¨â•œâ•¤Ð’â•¨â•¡â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¨â•›â•¨â•œâ•¨â•œâ•¤Ð›â•¤Ð• â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“
Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð 

ÐÐ¯Ð¤Ðœ â•¨Ð¯â•¨â•›â•¨â”¤â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â•¡â•¨â•œâ•¨â••â•¨â•¡ â•¨â•‘ â•¨Ð¡â•¨Ð¤ â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•â•¨â••â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¨â•£...

ÐÐ¯Ð£Ð› â•¨Ð¬â•¨â••â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¨â•• (54):
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 001_create_auth_tables.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  001_create_auth_tables.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 003_create_works_table.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 003_create_works_table.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 003_setup_rls.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 003_setup_rls.sql: permission denied to create role
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 004_create_estimates.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  004_create_estimates.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 004_create_materials_table.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 004_create_materials_table.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 005_add_global_references_support.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 005_add_global_references_support.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 006_add_performance_indexes.sql
Ñ‚Ð¬Ð• 006_add_performance_indexes.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 007_create_projects_tables.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 007_create_projects_tables.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 008_create_estimates_tables.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 008_create_estimates_tables.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 009_add_composite_indexes.sql
Ñ‚Ð¬Ð• 009_add_composite_indexes.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 009_create_object_parameters_tables.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  009_create_object_parameters_tables.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 010_add_source_type_to_estimate_items.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  010_add_source_type_to_estimate_items.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 011_add_hierarchy_to_works.sql
Ñ‚Ð¬Ð• 011_add_hierarchy_to_works.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 011_add_work_hierarchy.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 011_add_work_hierarchy.sql: function current_tenant_id() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 012_additional_updates.sql
Ñ‚Ð¬Ð• 012_additional_updates.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 012_create_work_materials_table.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  012_create_work_materials_table.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 012_populate_work_hierarchy_demo_data.sql
Ñ‚Ð¬Ð• 012_populate_work_hierarchy_demo_data.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 013_create_estimate_item_materials.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  013_create_estimate_item_materials.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 014_add_auto_calculate_to_materials.sql
Ñ‚Ð¬Ð• 014_add_auto_calculate_to_materials.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 014_add_work_id_to_estimate_items.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  014_add_work_id_to_estimate_items.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 015_create_schedules_table.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 015_create_schedules_table.sql: function update_updated_at_column() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 019_add_consumption_unit_to_materials.sql
Ñ‚Ð¬Ð• 019_add_consumption_unit_to_materials.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 020_add_auto_calculate_to_estimate_materials.sql
Ñ‚Ð¬Ð• 020_add_auto_calculate_to_estimate_materials.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 020_add_sku_number_for_sorting.sql
Ñ‚Ð¬Ð• 020_add_sku_number_for_sorting.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 021_create_purchases_table.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 021_create_purchases_table.sql: function update_updated_at_column() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 022_add_image_to_purchases.sql
Ñ‚Ð¬Ð• 022_add_image_to_purchases.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 023_create_global_purchases.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 023_create_global_purchases.sql: function update_updated_at_column() does not exist
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 024_add_purchased_quantity.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  024_add_purchased_quantity.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 028_remove_purchased_quantity_constraint.sql
Ñ‚Ð¬Ð• 028_remove_purchased_quantity_constraint.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 029_update_project_statuses.sql
Ñ‚Ð¬Ð• 029_update_project_statuses.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 030_create_work_completion_table.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  030_create_work_completion_table.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 031_create_work_completion_acts.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  031_create_work_completion_acts.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 032_add_last_act_to_work_completions.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  032_add_last_act_to_work_completions.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 032_update_act_statuses.sql
Ñ‚Ð¬Ð• 032_update_act_statuses.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 033_create_counterparties.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  033_create_counterparties.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 034_add_ks2_ks3_fields.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  034_add_ks2_ks3_fields.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 035_add_tenant_details.sql
Ñ‚Ð¬Ð• 035_add_tenant_details.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 036_add_contract_number.sql
Ñ‚Ð¬Ð• 036_add_contract_number.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 037_create_contracts.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  037_create_contracts.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 037_make_project_dates_nullable.sql
Ñ‚Ð¬Ð• 037_make_project_dates_nullable.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 038_add_logo_to_tenants.sql
Ñ‚Ð¬Ð• 038_add_logo_to_tenants.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 038_update_counterparties_passport_fields.sql
Ñ‚Ð¬Ð• 038_update_counterparties_passport_fields.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 040_create_contracts_table.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  040_create_contracts_table.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 041_optimize_materials_query.sql
Ñ‚Ð¬Ð• 041_optimize_materials_query.sql
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 042_fix_works_code_uniqueness.sql
Ñ‚ÐªÐ°Ñâ••ÐŸ  042_fix_works_code_uniqueness.sql (already exists, skipped)
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 043_create_estimate_templates.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 043_create_estimate_templates.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 044_add_work_link_to_template_materials.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 044_add_work_link_to_template_materials.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 050_add_partial_indexes_for_fast_filtering.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 050_add_partial_indexes_for_fast_filtering.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 050_manual_category_index.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 050_manual_category_index.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 051_add_ui_visibility_to_permissions.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 051_add_ui_visibility_to_permissions.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 052_optimize_materials_search.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 052_optimize_materials_search.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 053_add_weight_to_estimate_materials.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 053_add_weight_to_estimate_materials.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 054_add_category_to_works.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 054_add_category_to_works.sql: current transaction is aborted, commands ignored until end of transaction block
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 055_fix_materials_numeric_precision.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 055_fix_materials_numeric_precision.sql: current transaction is aborted, commands ignored until end of transaction block

ÐÐ¯Ðœâ–’ â•¨Ð±â•¨â••â•¨â”¤â•¤Ð› (1):
ÐÐ¯Ð£Ð” â•¨Ð¯â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¨â••â•¨â•¡: 002_seed_roles_permissions.sql
Ñ‚Ð­Ðœ â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â–“ 002_seed_roles_permissions.sql: current transaction is aborted, commands ignored until end of transaction block

Ñ‚Ð¬Ð• â•¨Ð¬â•¨â••â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¨â•• â•¨â”â•¤Ðâ•¨â••â•¨â•â•¨â•¡â•¨â•œâ•¨â•¡â•¨â•œâ•¤Ð›: 35/55
Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð Ñ‚Ð¥Ð 

Ñ‚Ð¬Ð• Setup â•¨â•–â•¨â–‘â•¨â–“â•¨â•¡â•¤Ðâ•¤Ð˜â•¤Ð¡â•¨â•œ, â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¨â•œâ•¨â–‘â•¨â•¡â•¨â• â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¤Ð›...

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39mÑ‚Ð¬Ð• Vitest setup completed

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  override existing env vars with { override: true }

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¡Ðµ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚Ð¬Ð• audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¡Ðµ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚Ð¬Ð• audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð£Ð± add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  override existing env vars with { override: true }

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚Ð¬Ð• audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð«Ð°Ñâ••ÐŸ  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð§Ð’Ñâ••ÐŸ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð£Ð± add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð«Ð°Ñâ••ÐŸ  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¡Ðµ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m
ÐÐ¯ÐªÐ Express API server running on http://localhost:3001
ÐÐ¯Ð£Ðª API Documentation: http://localhost:3001/api-docs
Ñâ”â•œÐÐ¯Ð£Ðš Health check: http://localhost:3001/api/health
ÐÐ¯Ð¤Ð  Auth endpoints: http://localhost:3001/api/auth/*
ÐÐ¯Ð£Ð› Works endpoints: http://localhost:3001/api/works
ÐÐ¯Ð¤Ð· Materials endpoints: http://localhost:3001/api/materials
ÐÐ¯Ð¤Ð§ Work-Materials endpoints: http://localhost:3001/api/work-materials
ÐÐ¯ÐŸÐ§Ñâ••ÐŸ  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð«Ð°Ñâ••ÐŸ  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¡Ðµ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð§Ð’Ñâ••ÐŸ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð§Ð’Ñâ••ÐŸ backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚Ð¬Ð• audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ÐÐ¯Ð¤Ð  encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: Ñ‚ÐªÐ©Ñâ••ÐŸ  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39m2025-12-29T09:40:49.828Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 9aa238e5-8444-423a-8941-284e6770cec0

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 6998b9e9-4c63-4523-8b75-051129a5769f

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 8ce10236-e443-41f1-b1e4-3f7ab34ed430

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 6ab2d189-ecfe-4d03-87d0-d2791b4e11f3

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ e481a9df-0fb9-4ef0-ae4c-66911be9ff77

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ ea1194d9-3494-4a4b-b64e-0bbd8ed73ee3

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 63761692-c3ee-407e-a360-7eb936b158e3

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 2b478073-66d3-43ee-9706-2d3333fc7cf3

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ ffc61509-e38b-4621-9200-ae7c177b48ec

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m2025-12-29T09:40:50.557Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39m2025-12-29T09:40:50.588Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39m2025-12-29T09:40:50.589Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m2025-12-29T09:40:50.619Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39m2025-12-29T09:40:50.621Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m2025-12-29T09:40:50.637Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39m2025-12-29T09:40:50.652Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m2025-12-29T09:40:50.692Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 445f9386-1afe-4f3c-b07d-2a2fb8b3a22c

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login schedules-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login users-admin@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login estimates-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login purchases-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login materials-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login works-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m2025-12-29T09:40:54.638Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login contracts-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ fc4f1e69-d8c1-4b08-8c26-09bc39147c2b

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ Company newuser-1767001251423

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39mÐÐ¯Ð¤Ð  Login projects-test@test.com: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m2025-12-29T09:40:54.842Z - POST /api/projects

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m2025-12-29T09:40:54.842Z - POST /api/projects

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m2025-12-29T09:40:54.843Z - POST /api/projects

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ admin
[22m[39m2025-12-29T09:40:54.845Z - GET /api/users

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39m2025-12-29T09:40:54.846Z - POST /api/materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39m2025-12-29T09:40:54.847Z - POST /api/works

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects schedules-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / schedules-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user f360cf52-a09e-4c8c-b876-dbead15802b4

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects estimates-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / estimates-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user 5a4bfbd4-6ef4-4075-af08-588097d71391

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /materials materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / materials-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: materials.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– references.create) for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects purchases-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / purchases-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user d1e180b0-369d-44e9-951b-e045db4bd783

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /works works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / works-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: works.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– references.create) for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ admin
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET / users-admin@test.com

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39m2025-12-29T09:40:54.859Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mPOST /api/projects/:projectId/estimates[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:40:54.858Z - POST /api/projects/00000000-0000-0000-0000-000000000000/estimates

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39m2025-12-29T09:40:54.858Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mPOST /api/projects/:projectId/estimates[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects/00000000-0000-0000-0000-000000000000/estimates estimates-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: estimates.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– projects.create) for user 5a4bfbd4-6ef4-4075-af08-588097d71391

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /schedules/generate schedules-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /generate schedules-test@test.com
[SCHEDULES] Generate request: {
  estimateId: [90mundefined[39m,
  projectId: [90mundefined[39m,
  tenantId: [32m'9aa238e5-8444-423a-8941-284e6770cec0'[39m,
  userId: [32m'f360cf52-a09e-4c8c-b876-dbead15802b4'[39m
}

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /purchases/generate purchases-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /generate purchases-test@test.com
[PURCHASES] Generate request: {
  estimateId: [90mundefined[39m,
  projectId: [90mundefined[39m,
  tenantId: [32m'ea1194d9-3494-4a4b-b64e-0bbd8ed73ee3'[39m,
  userId: [32m'd1e180b0-369d-44e9-951b-e045db4bd783'[39m
}

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:54.869Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/projects/:projectId/estimates[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:54.868Z - GET /api/projects/undefined/estimates

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /schedules/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:54.868Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /purchases/generate

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/projects/:projectId/estimates[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /projects/undefined/estimates

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mGET /api/schedules/estimate/:estimateId[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ð“â•¤Ð‘â•¤Ð’â•¨â•›â•¨â•£ â•¨â•›â•¤Ð’â•¨â–“â•¨â•¡â•¤Ð’ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð› â•¨â–’â•¨â•¡â•¨â•– â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘
[22m[39m2025-12-29T09:40:54.875Z - GET /api/schedules/estimate/99999999

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mGET /api/purchases/estimate/:estimateId[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:40:54.875Z - GET /api/purchases/estimate/99999999

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:40:54.875Z - GET /api/estimates/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mGET /api/schedules/estimate/:estimateId[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ð“â•¤Ð‘â•¤Ð’â•¨â•›â•¨â•£ â•¨â•›â•¤Ð’â•¨â–“â•¨â•¡â•¤Ð’ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð› â•¨â–’â•¨â•¡â•¨â•– â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /schedules/estimate/99999999 schedules-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /estimate/99999999 schedules-test@test.com

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /estimates/00000000-0000-0000-0000-000000000000 estimates-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: estimates.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– projects.read) for user 5a4bfbd4-6ef4-4075-af08-588097d71391
[findByIdWithDetails] Loading estimate 00000000-0000-0000-0000-000000000000 for tenant ffc61509-e38b-4621-9200-ae7c177b48ec

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mGET /api/purchases/estimate/:estimateId[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /purchases/estimate/99999999 purchases-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /estimate/99999999 purchases-test@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ admin
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.read) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39m[findByIdWithDetails] Estimate not found

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m2025-12-29T09:40:55.010Z - POST /api/projects

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mDELETE /api/estimates/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:40:55.012Z - DELETE /api/estimates/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mDELETE /api/estimates/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /estimates/00000000-0000-0000-0000-000000000000 estimates-test@test.com
Ñ‚Ð¬Ð• Permission granted: estimates.delete for user 5a4bfbd4-6ef4-4075-af08-588097d71391

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / contracts-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user ae2c38c9-fc89-4800-88ed-9c404d20907a

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39m2025-12-29T09:40:55.022Z - POST /api/contracts/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /contracts/generate contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /contracts/generate contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /contracts/generate contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /generate contracts-test@test.com

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:55.033Z - POST /api/contracts/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /contracts/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mGET /api/contracts/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘
[22m[39m2025-12-29T09:40:55.039Z - GET /api/contracts/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mGET /api/contracts/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 contracts-test@test.com

stderr | tests/integration/api/estimates.api.test.js > Estimates API Integration Tests > DELETE /api/estimates/:id > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
Error deleting estimate: Error: â•¨Ð±â•¨â•â•¨â•¡â•¤Ð’â•¨â–‘ â•¨â•œâ•¨â•¡ â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â–‘ â•¨â••â•¨â•—â•¨â•• â•¨â•œâ•¨â•¡â•¤Ð’ â•¨â”¤â•¨â•›â•¤Ð‘â•¤Ð’â•¤Ð“â•¨â”â•¨â–‘
    at Object.deleteEstimate (C:\Users\Admin\Desktop\smetalab v3\server\repositories\estimatesRepository.js:205:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at deleteEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\estimatesController.js:494:5)

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39m[CREATE MATERIAL] {
  tenant_id: [32m'8ce10236-e443-41f1-b1e4-3f7ab34ed430'[39m,
  created_by: [32m'd707132d-2e75-443f-a3a1-dd9412713911'[39m,
  sku: [32m'MAT-TEST-1767001254840'[39m,
  isGlobal: [33mfalse[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÐÐ¯Ð£Ð· [Auth] â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â••â•¨â•¡ â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘ â•¨â–“â•¨â•¡â•¤Ðâ•¨â••â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘â•¤Ð–â•¨â••â•¨â•• â•¨â”¤â•¨â•—â•¤ÐŸ newuser@authtest.local

stderr | tests/integration/api/schedules.api.test.js > Schedules API Integration Tests > GET /api/schedules/estimate/:estimateId > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ð“â•¤Ð‘â•¤Ð’â•¨â•›â•¨â•£ â•¨â•›â•¤Ð’â•¨â–“â•¨â•¡â•¤Ð’ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð› â•¨â–’â•¨â•¡â•¨â•– â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘
Error fetching schedule: error: invalid input syntax for type uuid: "99999999"
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg\lib\client.js:545:17
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.findByEstimateId (C:\Users\Admin\Desktop\smetalab v3\server\repositories\schedulesRepository.js:38:20)
    at getScheduleByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\schedulesController.js:166:27) {
  length: 140,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $1 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '174',
  routine: 'string_to_uuid'
}

stderr | tests/integration/api/purchases.api.test.js > Purchases API Integration Tests > GET /api/purchases/estimate/:estimateId > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›
[PURCHASES] â•¨Ð®â•¤Ð˜â•¨â••â•¨â–’â•¨â•‘â•¨â–‘ â•¨â”â•¤Ðâ•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ð“â•¤Ð—â•¨â•¡â•¨â•œâ•¨â••â•¨â•• â•¨â•–â•¨â–‘â•¨â•‘â•¤Ð“â•¨â”â•¨â•›â•¨â•‘: error: invalid input syntax for type uuid: "99999999"
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg\lib\client.js:545:17
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.getPurchasesByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\repositories\purchasesRepository.js:210:20)
    at getPurchasesByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\purchasesController.js:108:23) {
  length: 140,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $2 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '174',
  routine: 'string_to_uuid'
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39m2025-12-29T09:40:55.137Z - POST /api/projects

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:40:55.137Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for POST /schedules/generate : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:40:55.148Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for POST /purchases/generate : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39m[CREATE WORK] {
  tenant_id: [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m,
  created_by: [32m'15e7da6d-05ed-4735-ab09-100a6fdc3539'[39m,
  code: [32m'WORK-TEST-1767001254841'[39m,
  isGlobal: [33mfalse[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÐÐ¯Ð£Ð· [Auth] â•¨Ð²â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¤Ð•â•¤Ðâ•¨â–‘â•¨â•œâ•¨â•¡â•¨â•œ â•¨â–“ â•¨Ð¡â•¨Ð¤, â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¤ÐŸâ•¨â•¡â•¨â• email...
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð®â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•‘â•¨â–‘ email â•¨â•œâ•¨â–‘ newuser@authtest.local
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð²â•¨â•¡â•¨â•â•¨â–‘: â•¨Ð¯â•¨â•›â•¨â”¤â•¤Ð’â•¨â–“â•¨â•¡â•¤Ðâ•¨â”¤â•¨â••â•¤Ð’â•¨â•¡ â•¨â–“â•¨â–‘â•¤Ð˜ email - Smeta Lab
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð®â•¤Ð’: Smeta Lab <noreply@smeta-lab.ru>
ÐÐ¯Ð£Ð· [EmailService] Resend â•¨â•‘â•¨â•—â•¨â••â•¨â•¡â•¨â•œâ•¤Ð’ â•¨â••â•¨â•œâ•¨â••â•¤Ð–â•¨â••â•¨â–‘â•¨â•—â•¨â••â•¨â•–â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¨â•œ

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:55.343Z - GET /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:40:55.348Z - GET /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for GET /users : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:40:55.354Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• objectName â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:40:55.413Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• objectName â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:55.420Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“
[22m[39m2025-12-29T09:40:55.424Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.create) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mDELETE /api/contracts/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘
[22m[39m2025-12-29T09:40:55.665Z - DELETE /api/contracts/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mDELETE /api/contracts/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 contracts-test@test.com

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating works cache...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating materials cache...

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:40:55.711Z - POST /api/works

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:40:55.711Z - POST /api/materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /works works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / works-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: works.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– references.create) for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /materials materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / materials-test@test.com
Ñ‚Ð¬Ð• Permission granted via hierarchy: materials.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– references.create) for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:55.719Z - POST /api/materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:55.719Z - POST /api/works

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for POST /works

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[22m[39m2025-12-29T09:40:55.724Z - GET /api/materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’
[22m[39m2025-12-29T09:40:55.724Z - GET /api/works

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'8ce10236-e443-41f1-b1e4-3f7ab34ed430'[39m,
  userId: [32m'd707132d-2e75-443f-a3a1-dd9412713911'[39m,
  search: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  search: [90mundefined[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m3[39m
}

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m,
  userId: [32m'15e7da6d-05ed-4735-ab09-100a6fdc3539'[39m,
  search: [90mundefined[39m,
  category: [90mundefined[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1)\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $2 OFFSET $3\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â–‘â•¨â”‚â•¨â••â•¨â•œâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž
[22m[39m2025-12-29T09:40:55.815Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â–‘â•¨â”‚â•¨â••â•¨â•œâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• [EmailService] Email â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¨â•¡â•¨â•œ: {
  id: [32m'148d5598-39f1-4bc2-a2af-2f179c9d69fc'[39m,
  to: [32m'newuser@authtest.local'[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••
[22m[39mÑ‚Ð¬Ð• [Auth] â•¨Ð¯â•¨â••â•¤Ð‘â•¤Ðœâ•¨â•â•¨â•› â•¨â”â•¨â•›â•¨â”¤â•¤Ð’â•¨â–“â•¨â•¡â•¤Ðâ•¨â•¢â•¨â”¤â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¨â•¡â•¨â•œâ•¨â•› â•¨â•œâ•¨â–‘ newuser@authtest.local

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¤Ð“
[22m[39m2025-12-29T09:40:56.157Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¤Ð“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:40:56.612Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¨â”â•¨â•› id
[22m[39m2025-12-29T09:40:56.617Z - GET /api/projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¨â”â•¨â•› id
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• email â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:40:56.832Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• email â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• email â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.create) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:40:56.929Z - GET /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:40:57.051Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’
[22m[39m2025-12-29T09:40:57.112Z - PUT /api/projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.update for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.create) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

stderr | tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Login error: Error: NO_TENANTS
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:564:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:40:57.649Z - PUT /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.update for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:40:57.828Z - PATCH /api/projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PATCH /projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.update for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/409 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39m2025-12-29T09:40:58.096Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/409 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¨â–‘
[22m[39m2025-12-29T09:40:58.102Z - PATCH /api/projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PATCH /projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b/status projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.update for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“
[22m[39m2025-12-29T09:40:58.108Z - GET /api/projects/stats

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/stats projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /stats projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/409 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.create (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.create) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’
[22m[39m[WORKS PERFORMANCE] Query: 2490ms, Rows: 50, Total: 3372
[WORKS PERFORMANCE] Transform: 0ms, Total: 2490ms

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email
[22m[39m2025-12-29T09:40:58.218Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39m2025-12-29T09:40:58.224Z - GET /api/works

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m,
  userId: [32m'15e7da6d-05ed-4735-ab09-100a6fdc3539'[39m,
  search: [32m'â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¨â–‘â•¤ÐŸ'[39m,
  category: [90mundefined[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1) AND (code ILIKE $2 OR name ILIKE $2)\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $3 OFFSET $4\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m, [32m'%â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¨â–‘â•¤ÐŸ%'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39m[WORKS PERFORMANCE] Query: 272ms, Rows: 1, Total: 1
[WORKS PERFORMANCE] Transform: 0ms, Total: 272ms

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39m2025-12-29T09:40:58.504Z - GET /api/works

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39m2025-12-29T09:40:58.506Z - GET /api/projects/dashboard-summary

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m,
  userId: [32m'15e7da6d-05ed-4735-ab09-100a6fdc3539'[39m,
  search: [90mundefined[39m,
  category: [32m'â•¨Ð®â•¤Ð’â•¨â”¤â•¨â•¡â•¨â•—â•¨â•‘â•¨â–‘'[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1) AND category = $2\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $3 OFFSET $4\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'6998b9e9-4c63-4523-8b75-051129a5769f'[39m, [32m'â•¨Ð®â•¤Ð’â•¨â”¤â•¨â•¡â•¨â•—â•¨â•‘â•¨â–‘'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/dashboard-summary projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /dashboard-summary projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39m[WORKS PERFORMANCE] Query: 97ms, Rows: 0, Total: 0
[WORKS PERFORMANCE] Transform: 0ms, Total: 97ms

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ â•¨â”â•¨â•› id
[22m[39m2025-12-29T09:40:58.610Z - GET /api/works/24

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ â•¨â”â•¨â•› id
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works/24 works-test@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¨â”â•¨â•› id
[22m[39m2025-12-29T09:40:58.612Z - GET /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¨â”â•¨â•› id
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¨â”â•¨â•› id
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.read) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:40:58.710Z - GET /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works/99999999 works-test@test.com

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39m2025-12-29T09:40:58.900Z - PUT /api/works/24

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /works/24 works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /24 works-test@test.com
Ñ‚Ð¬Ð• Permission granted: works.update for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:40:59.001Z - GET /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: users.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.read) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating works cache...

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:40:59.204Z - PUT /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /works/99999999 works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /99999999 works-test@test.com
Ñ‚Ð¬Ð• Permission granted: works.update for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/categories[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£
[22m[39m2025-12-29T09:40:59.332Z - GET /api/works/categories

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/categories[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works/categories works-test@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:40:59.411Z - PUT /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:40:59.597Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.update for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’
[22m[39m2025-12-29T09:40:59.608Z - GET /api/works/stats

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /works/stats works-test@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:00.040Z - PUT /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.update for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•¡â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:00.704Z - PATCH /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/deactivate

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•¡â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/deactivate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/deactivate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/deactivate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /613bb5d2-4534-44b4-87ad-bc8886e1ef41/deactivate users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•¡â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.update for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39m2025-12-29T09:41:00.906Z - DELETE /api/works/24

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /works/24 works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /24 works-test@test.com
Ñ‚Ð¬Ð• Permission granted: works.delete for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:01.298Z - PATCH /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/activate

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/activate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/activate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/activate users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PATCH /613bb5d2-4534-44b4-87ad-bc8886e1ef41/activate users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.update for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39m2025-12-29T09:41:01.397Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating works cache...

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39m2025-12-29T09:41:01.521Z - DELETE /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /works/99999999 works-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /99999999 works-test@test.com
Ñ‚Ð¬Ð• Permission granted: works.delete for user 15e7da6d-05ed-4735-ab09-100a6fdc3539

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:01.893Z - POST /api/works

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for POST /works : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39mÐÐ¯Ð£Ðš Dashboard summary loaded in 3444ms (single request vs 7 separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â•¡â•¤Ð’â•¨â–‘-â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¨â–“â•¤Ðâ•¨â•¡â•¨â•â•¨â•¡â•¨â•œâ•¨â•• â•¨â•–â•¨â–‘â•¨â”‚â•¤Ðâ•¤Ð“â•¨â•–â•¨â•‘â•¨â••
[22m[39m2025-12-29T09:41:01.958Z - GET /api/projects/dashboard-summary

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â•¡â•¤Ð’â•¨â–‘-â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¨â–“â•¤Ðâ•¨â•¡â•¨â•â•¨â•¡â•¨â•œâ•¨â•• â•¨â•–â•¨â–‘â•¨â”‚â•¤Ðâ•¤Ð“â•¨â•–â•¨â•‘â•¨â••
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/dashboard-summary projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /dashboard-summary projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39m2025-12-29T09:41:02.001Z - GET /api/users/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /roles users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: roles.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.read) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39mÐÐ¯Ð¤Ð usersController.getAllRoles:
   User: users-admin@test.com
   User ID: cec28d9c-ae1f-41bd-837c-511e2fe6ee7b
   Tenant ID: e481a9df-0fb9-4ef0-ae4c-66911be9ff77
   User Roles: [admin]
   Is Super Admin: NO Ñ‚Ð­Ðœ

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39mÑ‚Ð¬Ð• tenant admin â•¨â–“â•¨â••â•¨â”¤â•¨â••â•¤Ð’ 3 â•¤Ðâ•¨â•¡â•¨â”¤â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¤Ðâ•¤Ð“â•¨â•¡â•¨â•â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ (â•¨â–’â•¨â•¡â•¨â•– admin):
   - manager: â•¨Ð¬â•¨â•¡â•¨â•œâ•¨â•¡â•¨â”¤â•¨â•¢â•¨â•¡â•¤Ð (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)
   - estimator: â•¨Ð±â•¨â•â•¨â•¡â•¤Ð’â•¤Ð—â•¨â••â•¨â•‘ (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)
   - worker: â•¨Ð°â•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¨â•œâ•¨â••â•¨â•‘ (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39m2025-12-29T09:41:02.601Z - POST /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST /613bb5d2-4534-44b4-87ad-bc8886e1ef41/roles users-admin@test.com

stderr | tests/integration/api/users.api.test.js > Users API Integration Tests > POST /api/users/:id/roles > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž
Ñ‚Ð«Ð¤ Permission denied: roles.assign for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£
[22m[39m2025-12-29T09:41:02.701Z - GET /api/users/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /users/roles users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /roles users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£
[22m[39mÑ‚Ð¬Ð• Permission granted via hierarchy: roles.read (â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– admin.read) for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£
[22m[39mÐÐ¯Ð¤Ð usersController.getAllRoles:
   User: users-admin@test.com
   User ID: cec28d9c-ae1f-41bd-837c-511e2fe6ee7b
   Tenant ID: e481a9df-0fb9-4ef0-ae4c-66911be9ff77
   User Roles: [admin]
   Is Super Admin: NO Ñ‚Ð­Ðœ

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â•¡â•¤Ð’â•¨â–‘-â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¨â–“â•¤Ðâ•¨â•¡â•¨â•â•¨â•¡â•¨â•œâ•¨â•• â•¨â•–â•¨â–‘â•¨â”‚â•¤Ðâ•¤Ð“â•¨â•–â•¨â•‘â•¨â••
[22m[39mÐÐ¯Ð£Ðš Dashboard summary loaded in 1140ms (single request vs 7 separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m2025-12-29T09:41:03.105Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated POST /projects projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated POST / projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.create for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:03.409Z - GET /api/projects/110affe1-68f0-44d4-b0cf-68def8d20039/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/110affe1-68f0-44d4-b0cf-68def8d20039/full-dashboard projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /110affe1-68f0-44d4-b0cf-68def8d20039/full-dashboard projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£
[22m[39mÑ‚Ð¬Ð• tenant admin â•¨â–“â•¨â••â•¨â”¤â•¨â••â•¤Ð’ 3 â•¤Ðâ•¨â•¡â•¨â”¤â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¤Ðâ•¤Ð“â•¨â•¡â•¨â•â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ (â•¨â–’â•¨â•¡â•¨â•– admin):
   - manager: â•¨Ð¬â•¨â•¡â•¨â•œâ•¨â•¡â•¨â”¤â•¨â•¢â•¨â•¡â•¤Ð (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)
   - estimator: â•¨Ð±â•¨â•â•¨â•¡â•¤Ð’â•¤Ð—â•¨â••â•¨â•‘ (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)
   - worker: â•¨Ð°â•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¨â•œâ•¨â••â•¨â•‘ (tenant_id: e481a9df-0fb9-4ef0-ae4c-66911be9ff77)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:03.601Z - DELETE /api/users/613bb5d2-4534-44b4-87ad-bc8886e1ef41

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /users/613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /613bb5d2-4534-44b4-87ad-bc8886e1ef41 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.delete for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â•
[22m[39mÐÐ¯Ð£Ðš Project full-dashboard loaded in 988ms (single request vs 4+ separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:41:04.398Z - GET /api/projects/00000000-0000-0000-0000-000000000000/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /projects/00000000-0000-0000-0000-000000000000/full-dashboard projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated GET /00000000-0000-0000-0000-000000000000/full-dashboard projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.read for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:41:04.673Z - GET /api/projects/110affe1-68f0-44d4-b0cf-68def8d20039/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /projects/110affe1-68f0-44d4-b0cf-68def8d20039/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m2025-12-29T09:41:04.677Z - DELETE /api/projects/110affe1-68f0-44d4-b0cf-68def8d20039

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /projects/110affe1-68f0-44d4-b0cf-68def8d20039 projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /110affe1-68f0-44d4-b0cf-68def8d20039 projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.delete for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 51123651-542c-46f6-8db0-3e2af50b3dc0

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ Company duplicate-1767001261844

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:04.807Z - DELETE /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Permission granted: users.delete for user cec28d9c-ae1f-41bd-837c-511e2fe6ee7b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’
[22m[39m2025-12-29T09:41:05.005Z - DELETE /api/projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /projects/1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /1612cb9c-213e-4dc6-b8c0-d0c1a1cba91b projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.delete for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÐÐ¯Ð£Ð· [Auth] â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â••â•¨â•¡ â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘ â•¨â–“â•¨â•¡â•¤Ðâ•¨â••â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘â•¤Ð–â•¨â••â•¨â•• â•¨â”¤â•¨â•—â•¤ÐŸ duplicate@authtest.local

 [31mÑ‚Ð­Ð¿[39m tests/integration/api/estimates.api.test.js [2m([22m[2m17 tests[22m[2m)[22m[33m 19008[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð“[32m 2[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 9[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/projects/:projectId/estimates[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/projects/:projectId/estimates[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 7[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð“ â•¨â”â•¨â•› id[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 136[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id/full[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPUT /api/estimates/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð“[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPOST /api/estimates/:estimateId/items[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•›â•¨â–’â•¨â–‘â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•–â•¨â••â•¤Ð–â•¨â••â•¤Ðž â•¨â–“ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð“[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPOST /api/estimates/:estimateId/items[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¤Ð•[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:estimateId/items[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¨â•›â•¨â•–â•¨â••â•¤Ð–â•¨â••â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mPUT /api/estimates/items/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•–â•¨â••â•¤Ð–â•¨â••â•¤Ðž â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id/statistics[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/items/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•–â•¨â••â•¤Ð–â•¨â••â•¤Ðž[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð“[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 77[2mms[22m[39m
 [31mÑ‚Ð­Ð¿[39m tests/integration/api/schedules.api.test.js [2m([22m[2m7 tests[22m[2m)[22m[33m 19054[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â”‚â•¨â•¡â•¨â•œâ•¨â•¡â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘ â•¨â••â•¨â•– â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 2[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId[32m 10[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 7[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mGET /api/schedules/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mGET /api/schedules/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ð“â•¤Ð‘â•¤Ð’â•¨â•›â•¨â•£ â•¨â•›â•¤Ð’â•¨â–“â•¨â•¡â•¤Ð’ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð› â•¨â–’â•¨â•¡â•¨â•– â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘â•¨â–‘[32m 258[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mDELETE /api/schedules/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”‚â•¤Ðâ•¨â–‘â•¤Ð”â•¨â••â•¨â•‘ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Schedules API Integration Tests[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•[32m 12[2mms[22m[39m
 [31mÑ‚Ð­Ð¿[39m tests/integration/api/purchases.api.test.js [2m([22m[2m8 tests[22m[2m)[22m[33m 19068[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â”‚â•¨â•¡â•¨â•œâ•¨â•¡â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•–â•¨â–‘â•¨â•‘â•¤Ð“â•¨â”â•¨â•‘â•¨â•• â•¨â••â•¨â•– â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 2[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId[32m 9[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 6[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mGET /api/purchases/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•–â•¨â–‘â•¨â•‘â•¤Ð“â•¨â”â•¨â•‘â•¨â•• â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mGET /api/purchases/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 266[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/extra-charge[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•›â•¨â–’â•¨â–‘â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â–‘â•¤Ð–â•¨â•¡â•¨â•œâ•¨â•‘â•¤Ð“ â•¨â•‘ â•¨â•–â•¨â–‘â•¨â•‘â•¤Ð“â•¨â”â•¨â•‘â•¨â–‘â•¨â•[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mDELETE /api/purchases/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â•–â•¨â–‘â•¨â•‘â•¤Ð“â•¨â”â•¨â•‘â•¨â•• â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Purchases API Integration Tests[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•[32m 12[2mms[22m[39m
[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:41:05.200Z - DELETE /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 projects-test@test.com
Ñ‚Ð¬Ð• Permission granted: projects.delete for user 1bfc69aa-17f2-4cd4-8834-e20cb6a53df2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÐÐ¯Ð£Ð· [Auth] â•¨Ð²â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¤Ð•â•¤Ðâ•¨â–‘â•¨â•œâ•¨â•¡â•¨â•œ â•¨â–“ â•¨Ð¡â•¨Ð¤, â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¤ÐŸâ•¨â•¡â•¨â• email...
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð®â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•‘â•¨â–‘ email â•¨â•œâ•¨â–‘ duplicate@authtest.local
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð²â•¨â•¡â•¨â•â•¨â–‘: â•¨Ð¯â•¨â•›â•¨â”¤â•¤Ð’â•¨â–“â•¨â•¡â•¤Ðâ•¨â”¤â•¨â••â•¤Ð’â•¨â•¡ â•¨â–“â•¨â–‘â•¤Ð˜ email - Smeta Lab
ÐÐ¯Ð£Ð· [EmailService] â•¨Ð®â•¤Ð’: Smeta Lab <noreply@smeta-lab.ru>

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:05.299Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for GET /projects : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• [EmailService] Email â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¨â•¡â•¨â•œ: {
  id: [32m'17eb936e-daad-4ff0-bd86-488e9a9a1f23'[39m,
  to: [32m'duplicate@authtest.local'[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39mÑ‚Ð¬Ð• [Auth] â•¨Ð¯â•¨â••â•¤Ð‘â•¤Ðœâ•¨â•â•¨â•› â•¨â”â•¨â•›â•¨â”¤â•¤Ð’â•¨â–“â•¨â•¡â•¤Ðâ•¨â•¢â•¨â”¤â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¨â•›â•¤Ð’â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â•—â•¨â•¡â•¨â•œâ•¨â•› â•¨â•œâ•¨â–‘ duplicate@authtest.local

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
[22m[39m2025-12-29T09:41:05.665Z - POST /api/auth/register

 [31mÑ‚Ð­Ð¿[39m tests/integration/api/contracts.api.test.js [2m([22m[2m12 tests[22m[2m)[22m[33m 19739[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â”‚â•¨â•¡â•¨â•œâ•¨â•¡â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ð â•¨â••â•¨â•– â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 1[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â–’â•¨â•¡â•¨â•– estimateId[32m 10[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 5[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/estimate/:estimateId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ð â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•â•¨â•¡â•¤Ð’â•¤Ð›[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/project/:projectId[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¤Ð› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ð â•¨â”â•¨â•› id[32m 0[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘ [33m 625[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mPUT /api/contracts/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ð[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mPATCH /api/contracts/:id/status[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id/docx[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ DOCX â•¤Ð”â•¨â–‘â•¨â•£â•¨â•— â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mDELETE /api/contracts/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ð[32m 0[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Contracts API Integration Tests[2m > [22mDELETE /api/contracts/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”¤â•¨â•›â•¨â”‚â•¨â•›â•¨â–“â•¨â•›â•¤Ðâ•¨â–‘[32m 145[2mms[22m[39m
 [31mÑ‚Ð­Ð¿[39m tests/integration/api/roles.api.test.js [2m([22m[2m8 tests[22m[2m | [22m[33m8 skipped[39m[2m)[22m[33m 20025[2mms[22m[39m
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin â•¤Ð‘ â•¨â•œâ•¨â•¡â•¤Ð‘â•¨â•‘â•¨â•›â•¨â•—â•¤Ðœâ•¨â•‘â•¨â••â•¨â•â•¨â•• â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸâ•¨â•â•¨â••)[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨Ð²â•¨Ð®â•¨Ð«â•¨Ð¼â•¨Ðªâ•¨Ð® global roles â•¨â”¤â•¨â•—â•¤ÐŸ super_admin
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin â•¤Ð‘ â•¨â•œâ•¨â•¡â•¤Ð‘â•¨â•‘â•¨â•›â•¨â•—â•¤Ðœâ•¨â•‘â•¨â••â•¨â•â•¨â•• â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸâ•¨â•â•¨â••)[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¤Ðâ•¨â–‘â•¨â–“â•¨â••â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•› â•¨â•›â•¨â”â•¤Ðâ•¨â•¡â•¨â”¤â•¨â•¡â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ isSuperAdmin â•¤Ð—â•¨â•¡â•¤Ðâ•¨â•¡â•¨â•– â•¨Ð¢â•¨Ð±â•¨Ð¥ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin â•¤Ð‘ â•¨â•œâ•¨â•¡â•¤Ð‘â•¨â•‘â•¨â•›â•¨â•—â•¤Ðœâ•¨â•‘â•¨â••â•¨â•â•¨â•• â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸâ•¨â•â•¨â••)[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•‘â•¨â•›â•¤Ðâ•¤Ðâ•¨â•¡â•¨â•‘â•¤Ð’â•¨â•œâ•¤Ð“â•¤Ðž â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› super_admin
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mGET /api/roles (tenant admin)[2m > [22mtenant admin â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â••â•¨â”¤â•¨â•¡â•¤Ð’â•¤Ðœ â•¤Ð’â•¨â•›â•¨â•—â•¤Ðœâ•¨â•‘â•¨â•› tenant roles â•¤Ð‘â•¨â–“â•¨â•›â•¨â•¡â•¨â”‚â•¨â•› â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ (â•¨â•‘â•¤Ðâ•¨â•›â•¨â•â•¨â•¡ admin)
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mGET /api/permissions/roles/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¨â•œâ•¤Ð“â•¤Ðž â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¤Ð‘ â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â••
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
   [2m[90mÑ‚Ð–Ð£[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â•›â•¨â•—â•¨â••
stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/register > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email
Registration error: Error: EMAIL_EXISTS
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:162:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at register (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:154:20)

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’ â•¨â•›â•¨â–’â•¤ÐŸâ•¨â•–â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â•¡ â•¨â”â•¨â•›â•¨â•—â•¨â•¡
[22m[39m2025-12-29T09:41:07.822Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¤Ð› â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• credentials
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¤Ð› â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• credentials
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 71733d32-d54a-43a0-8676-fa37adcafeda

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¤Ð› â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• credentials
[22m[39m2025-12-29T09:41:10.803Z - POST /api/auth/login

 [31mÑ‚Ð­Ð¿[39m tests/integration/api/works.api.test.js [2m([22m[2m15 tests[22m[2m)[22m[33m 25810[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð“â•¤Ðž â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ [33m 868[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• name â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’[32m 7[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 6[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’ [33m 2500[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘[32m 280[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••[32m 105[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mGET /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ â•¨â”â•¨â•› id[32m 100[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mGET /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›[32m 190[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mPUT /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ [33m 304[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mPUT /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð›[32m 128[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mGET /api/works/categories[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£[32m 275[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mGET /api/works/stats[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’ [33m 1299[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mDELETE /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð“ [33m 614[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Works API Integration Tests[2m > [22mDELETE /api/works/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â•£ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¤Ð› [33m 372[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Works API Integration Tests[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•[32m 4[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¤Ð› â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• credentials
[22m[39mÐÐ¯Ð¤Ð  Login login@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ b30581ea-9695-4917-9ac6-38b5686d645b

 [31mÑ‚Ð­Ð¿[39m tests/integration/api/users.api.test.js [2m([22m[2m17 tests[22m[2m)[22m[33m 29036[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ admin [33m 501[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 5[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•[32m 5[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 1478[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• email â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’[32m 219[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ [33m 1045[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400/409 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email [33m 512[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mGET /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¨â”â•¨â•› id [33m 393[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mGET /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 411[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPUT /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 629[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPUT /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 662[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPATCH /api/users/:id/deactivate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”¤â•¨â•¡â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 594[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPATCH /api/users/:id/activate[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–‘â•¨â•‘â•¤Ð’â•¨â••â•¨â–“â•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 704[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mPOST /api/users/:id/roles[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•œâ•¨â–‘â•¨â•–â•¨â•œâ•¨â–‘â•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ â•¤Ðâ•¨â•›â•¨â•—â•¨â•• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðž [33m 701[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mGET /api/users/roles[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ [33m 899[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mDELETE /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 1205[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Users API Integration Tests[2m > [22mDELETE /api/users/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 303[2mms[22m[39m
 [31mÑ‚Ð­Ð¿[39m tests/integration/api/projects.api.test.js [2m([22m[2m22 tests[22m[2m)[22m[33m 29233[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â••[32m 281[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• objectName â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’[32m 7[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 5[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“ [33m 391[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â–‘â•¨â”‚â•¨â••â•¨â•œâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž [33m 340[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¤Ð“ [33m 457[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 4[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ â•¨â”â•¨â•› id [33m 313[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 183[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mPUT /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’ [33m 537[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPUT /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 178[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPATCH /api/projects/:id/status[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 276[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mPATCH /api/projects/:id/status[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ð“â•¤Ð‘â•¨â–‘[32m 6[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/stats[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â•›â•¨â–“ [33m 397[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/dashboard-summary[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â• [33m 3452[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/dashboard-summary[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â•¡â•¤Ð’â•¨â–‘-â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¨â–“â•¤Ðâ•¨â•¡â•¨â•â•¨â•¡â•¨â•œâ•¨â•• â•¨â•–â•¨â–‘â•¨â”‚â•¤Ðâ•¤Ð“â•¨â•–â•¨â•‘â•¨â•• [33m 1146[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â–“â•¤Ð‘â•¨â•¡ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¨â–‘â•¤Ð˜â•¨â–’â•¨â•›â•¤Ðâ•¨â”¤â•¨â–‘ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘ â•¨â•›â•¨â”¤â•¨â•œâ•¨â••â•¨â• â•¨â•–â•¨â–‘â•¨â”â•¤Ðâ•¨â•›â•¤Ð‘â•¨â•›â•¨â• [33m 989[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 275[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘[32m 5[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mDELETE /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’[32m 198[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mDELETE /api/projects/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â••â•¨â•—â•¨â•• 500 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¤Ðâ•¨â•›â•¨â•¡â•¨â•‘â•¤Ð’â•¨â–‘[32m 97[2mms[22m[39m
   [32mÑ‚Ð¬Ð£[39m Projects API Integration Tests[2m > [22mEdge Cases[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•[32m 7[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:15.696Z - POST /api/auth/login

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/login > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ
Login error: Error: INVALID_PASSWORD
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:533:15
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 92d09f7f-48a9-45a3-a5a1-e74011a958f1

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[MATERIALS SLOW QUERY] 23232ms - checking query plan...

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:18.960Z - POST /api/auth/login

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/login > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
Login error: Error: USER_NOT_FOUND
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:520:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email â•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email â•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð’â•¨â–‘
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 5480c64d-8fc2-4326-bcc4-8d1f98f30d07

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email â•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð’â•¨â–‘
[22m[39m2025-12-29T09:41:21.548Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[22m[39m[MATERIALS QUERY PLAN]
Limit  (cost=16778.46..16779.92 rows=50 width=330) (actual time=4204.918..4204.931 rows=50.00 loops=1)
  Buffers: shared hit=1198 read=5846 written=175, temp read=3616 written=1907
  ->  Incremental Sort  (cost=16778.46..18146.21 rows=46979 width=330) (actual time=4204.916..4204.925 rows=50.00 loops=1)
        Sort Key: is_global DESC, sku_number
        Presorted Key: is_global
        Full-sort Groups: 1  Sort Method: quicksort  Average Memory: 56kB  Peak Memory: 56kB
        Pre-sorted Groups: 1  Sort Method: top-N heapsort  Average Memory: 66kB  Peak Memory: 66kB
        Buffers: shared hit=1198 read=5846 written=175, temp read=3616 written=1907
        ->  WindowAgg  (cost=15997.99..15998.33 rows=46979 width=330) (actual time=2907.614..3395.135 rows=46977.00 loops=1)
              Window: w1 AS ()
              Storage: Disk  Maximum Storage: 15250kB
              Buffers: shared hit=1198 read=5846 written=175, temp read=3616 written=1907
              ->  Index Scan Backward using idx_materials_is_global on materials  (cost=0.41..15411.09 rows=46979 width=322) (actual time=2.874..2125.520 rows=46977.00 loops=1)
                    Filter: (is_global OR (tenant_id = '8ce10236-e443-41f1-b1e4-3f7ab34ed430'::uuid))
                    Rows Removed by Filter: 20
                    Index Searches: 1
                    Buffers: shared hit=1198 read=5846 written=175
Planning Time: 72.697 ms
Execution Time: 4305.414 ms
[MATERIALS PERFORMANCE] Query: 23232ms, Rows: 50, Total: 46977
[MATERIALS PERFORMANCE] Transform: 1ms, Total: 23233ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39m2025-12-29T09:41:23.444Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'8ce10236-e443-41f1-b1e4-3f7ab34ed430'[39m,
  userId: [32m'd707132d-2e75-443f-a3a1-dd9412713911'[39m,
  search: [32m'â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£'[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  search: [32m'â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£'[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m8[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ permissions â•¨â•• roles â•¨â–“ JWT payload
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ permissions â•¨â•• roles â•¨â–“ JWT payload
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ ee657978-0ff9-426c-a821-7c18e4e1ea07

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[MATERIALS SLOW QUERY] 866ms - checking query plan...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘
[22m[39m[MATERIALS QUERY PLAN]
Limit  (cost=1190.26..1190.30 rows=19 width=334) (actual time=103.810..103.814 rows=1.00 loops=1)
  Buffers: shared hit=951
  ->  Sort  (cost=1190.26..1190.30 rows=19 width=334) (actual time=103.808..103.811 rows=1.00 loops=1)
        Sort Key: (CASE WHEN (lower((sku)::text) = 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£'::text) THEN 1 WHEN (lower((name)::text) = 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£'::text) THEN 2 WHEN (lower((name)::text) ~~ 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text) THEN 3 ELSE 4 END), is_global DESC, sku_number
        Sort Method: quicksort  Memory: 25kB
        Buffers: shared hit=951
        ->  WindowAgg  (cost=1188.43..1189.85 rows=19 width=334) (actual time=103.799..103.802 rows=1.00 loops=1)
              Window: w1 AS ()
              Storage: Memory  Maximum Storage: 17kB
              Buffers: shared hit=951
              ->  Bitmap Heap Scan on materials  (cost=1167.88..1189.33 rows=19 width=322) (actual time=103.781..103.787 rows=1.00 loops=1)
                    Recheck Cond: ((lower((name)::text) ~~ 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text) OR (lower((sku)::text) ~~ 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text) OR (lower((name)::text) ~~ '%â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text) OR (lower((sku)::text) ~~ '%â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text))
                    Filter: (is_global OR (tenant_id = '8ce10236-e443-41f1-b1e4-3f7ab34ed430'::uuid))
                    Rows Removed by Filter: 1
                    Heap Blocks: exact=3
                    Buffers: shared hit=951
                    ->  BitmapOr  (cost=1167.88..1167.88 rows=19 width=0) (actual time=103.753..103.755 rows=0.00 loops=1)
                          Buffers: shared hit=948
                          ->  Bitmap Index Scan on idx_materials_name_trgm  (cost=0.00..449.43 rows=5 width=0) (actual time=4.196..4.196 rows=3.00 loops=1)
                                Index Cond: (lower((name)::text) ~~ 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text)
                                Index Searches: 1
                                Buffers: shared hit=391
                          ->  Bitmap Index Scan on idx_materials_sku_trgm  (cost=0.00..142.86 rows=5 width=0) (actual time=2.960..2.960 rows=0.00 loops=1)
                                Index Cond: (lower((sku)::text) ~~ 'â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text)
                                Index Searches: 1
                                Buffers: shared hit=103
                          ->  Bitmap Index Scan on idx_materials_name_trgm  (cost=0.00..439.71 rows=5 width=0) (actual time=94.109..94.109 rows=3.00 loops=1)
                                Index Cond: (lower((name)::text) ~~ '%â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text)
                                Index Searches: 1
                                Buffers: shared hit=355
                          ->  Bitmap Index Scan on idx_materials_sku_trgm  (cost=0.00..135.87 rows=5 width=0) (actual time=2.484..2.485 rows=0.00 loops=1)
                                Index Cond: (lower((sku)::text) ~~ '%â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¨â•£%'::text)
                                Index Searches: 1
                                Buffers: shared hit=99
Planning:
  Buffers: shared hit=4
Planning Time: 17.727 ms
Execution Time: 103.935 ms
[MATERIALS PERFORMANCE] Query: 866ms, Rows: 1, Total: 1
[MATERIALS PERFORMANCE] Transform: 0ms, Total: 866ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39m2025-12-29T09:41:24.530Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'8ce10236-e443-41f1-b1e4-3f7ab34ed430'[39m,
  userId: [32m'd707132d-2e75-443f-a3a1-dd9412713911'[39m,
  search: [90mundefined[39m,
  category: [32m'â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¨â–‘â•¤ÐŸ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¤ÐŸ'[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [32m'â•¨Ð²â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¨â–‘â•¤ÐŸ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¤ÐŸ'[39m,
  supplier: [90mundefined[39m,
  search: [90mundefined[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m4[39m
}

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¤Ð”â•¨â••â•¨â•—â•¤Ðœâ•¤Ð’â•¤Ðâ•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â”â•¨â•› â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â••
[22m[39m[MATERIALS PERFORMANCE] Query: 100ms, Rows: 1, Total: 1
[MATERIALS PERFORMANCE] Transform: 0ms, Total: 100ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â–’â•¨â•¡â•¨â•– â•¨â–‘â•¨â–“â•¤Ð’â•¨â•›â•¤Ðâ•¨â••â•¨â•–â•¨â–‘â•¤Ð–â•¨â••â•¨â•• (optionalAuth)
[22m[39m2025-12-29T09:41:24.638Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ðâ•¨â–‘â•¨â–’â•¨â•›â•¤Ð’â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â–’â•¨â•¡â•¨â•– â•¨â–‘â•¨â–“â•¤Ð’â•¨â•›â•¤Ðâ•¨â••â•¨â•–â•¨â–‘â•¤Ð–â•¨â••â•¨â•• (optionalAuth)
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•— â•¨â”â•¨â•› id
[22m[39m2025-12-29T09:41:24.643Z - GET /api/materials/39

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•— â•¨â”â•¨â•› id
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials/39 materials-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ permissions â•¨â•• roles â•¨â–“ JWT payload
[22m[39m2025-12-29T09:41:24.693Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39m2025-12-29T09:41:24.832Z - GET /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials/99999999 materials-test@test.com

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39m2025-12-29T09:41:24.956Z - PUT /api/materials/39

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /materials/39 materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /39 materials-test@test.com
Ñ‚Ð¬Ð• Permission granted: materials.update for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating materials cache...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39m2025-12-29T09:41:25.176Z - PUT /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated PUT /materials/99999999 materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated PUT /99999999 materials-test@test.com
Ñ‚Ð¬Ð• Permission granted: materials.update for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/categories[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£
[22m[39m2025-12-29T09:41:25.299Z - GET /api/materials/categories

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/categories[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials/categories materials-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ permissions â•¨â•• roles â•¨â–“ JWT payload
[22m[39mÐÐ¯Ð¤Ð  Login login@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[22m[39m2025-12-29T09:41:27.072Z - GET /api/materials/stats

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/stats[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /materials/stats materials-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 2ac4585d-e7c2-4bae-a275-4d2fe8c41d73

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token
[22m[39m2025-12-29T09:41:27.601Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token
[22m[39mÐÐ¯Ð¤Ð  Login refresh@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token
[22m[39m2025-12-29T09:41:28.812Z - POST /api/auth/refresh

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials/stats > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
Database query error (attempt 1/3): numeric field overflow

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials/stats > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“
Error fetching materials stats: error: numeric field overflow
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg-pool\index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.query (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:40:19)
    at getMaterialsStats (C:\Users\Admin\Desktop\smetalab v3\server\controllers\materialsController.js:1187:27) {
  length: 165,
  severity: 'ERROR',
  code: '22003',
  detail: 'A field with precision 10, scale 2 must round to an absolute value less than 10^8.',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'numeric.c',
  line: '8083',
  routine: 'apply_typmod'
}

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39m2025-12-29T09:41:29.964Z - DELETE /api/materials/39

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /materials/39 materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /39 materials-test@test.com
Ñ‚Ð¬Ð• Permission granted: materials.delete for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 1acec655-3b1e-4aad-bb21-09fbdb8420fe

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
[22m[39m2025-12-29T09:41:31.292Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
[22m[39mÐÐ¯Ð¤Ð  Login refresh@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
[22m[39m2025-12-29T09:41:32.499Z - POST /api/auth/refresh

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/refresh > â•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token
Refresh token error: Error: INVALID_REFRESH_TOKEN
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:930:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at refresh (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:919:20)

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—
[22m[39mÐÐ¯Ð§Ð¡Ñâ••ÐŸ Invalidating materials cache...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39m2025-12-29T09:41:33.394Z - DELETE /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 404 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â–‘
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated DELETE /materials/99999999 materials-test@test.com
Ñ‚Ð¬Ð• Auth: User authenticated DELETE /99999999 materials-test@test.com
Ñ‚Ð¬Ð• Permission granted: materials.delete for user d707132d-2e75-443f-a3a1-dd9412713911

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:33.512Z - POST /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for POST /materials : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 12b7440a-5e4f-4ca8-a0e4-3bfc8b66eb10

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:41:34.675Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39mÐÐ¯Ð¤Ð  Login refresh@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’
[22m[39m2025-12-29T09:41:35.840Z - POST /api/auth/refresh

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 816a06e9-cb52-4194-94d0-c6f4d87fb035

 [32mÑ‚Ð¬Ð£[39m tests/integration/api/materials.api.test.js [2m([22m[2m16 tests[22m[2m)[22m[33m 51631[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mPOST /api/materials[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¤Ð›â•¨â•£ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•— [33m 869[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“ [33m 27707[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â”â•¨â•›â•¨â”¤â•¨â”¤â•¨â•¡â•¤Ðâ•¨â•¢â•¨â••â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â••â•¤Ð‘â•¨â•‘ [33m 1099[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials/categories[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¨â”â•¨â••â•¤Ð‘â•¨â•›â•¨â•‘ â•¨â•‘â•¨â–‘â•¤Ð’â•¨â•¡â•¨â”‚â•¨â•›â•¤Ðâ•¨â••â•¨â•£ [33m 1771[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials/stats[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¤Ð‘â•¤Ð’â•¨â–‘â•¤Ð’â•¨â••â•¤Ð‘â•¤Ð’â•¨â••â•¨â•‘â•¤Ð“ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•—â•¨â•›â•¨â–“ [33m 2893[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Materials API Integration Tests[2m > [22mDELETE /api/materials/:id[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â•â•¨â–‘â•¤Ð’â•¨â•¡â•¤Ðâ•¨â••â•¨â–‘â•¨â•— [33m 3431[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:37.838Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39mÐÐ¯Ð¤Ð  Login logout@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ
[22m[39m2025-12-29T09:41:39.088Z - POST /api/auth/logout

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 6af662a3-fb7b-445e-bcc1-7d7276c1c8f2

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:41:41.204Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÐÐ¯Ð¤Ð  Login logout@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:41:42.200Z - POST /api/auth/logout

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 10d7f964-e501-4b4f-9cef-a441a56a5968

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39m2025-12-29T09:41:44.009Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39mÐÐ¯Ð¤Ð  Login me@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39m2025-12-29T09:41:44.965Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡
[22m[39mÑ‚Ð¬Ð• Auth: User authenticated GET /me me@authtest.local

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ 26f32b55-0199-4317-8398-d2b418d2f0a6

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:41:47.198Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÐÐ¯Ð¤Ð  Login me@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39m2025-12-29T09:41:48.203Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘
[22m[39mÑ‚Ð­Ðœ Auth: No token provided for GET /me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÑ‚Ð¬Ð• Admin â•¤Ðâ•¨â•›â•¨â•—â•¤Ðœ â•¤Ð‘â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â–‘ â•¤Ð‘ 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¤ÐŸâ•¨â•â•¨â•• â•¨â••â•¨â•– â•¨â”‚â•¨â•—â•¨â•›â•¨â–’â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¤Ð˜â•¨â–‘â•¨â–’â•¨â•—â•¨â•›â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÑ‚Ð¬Ð• â•¨Ð±â•¨â•›â•¨â•–â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•› 4 â•¨â–’â•¨â–‘â•¨â•–â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¤Ðâ•¨â•›â•¨â•—â•¨â•¡â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð’â•¨â•¡â•¨â•œâ•¨â–‘â•¨â•œâ•¤Ð’â•¨â–‘ fd509a4d-6fd5-4b38-b731-92c72987c246

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:49.997Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð  Login me@authtest.local: â•¨â•œâ•¨â–‘â•¨â•£â•¨â”¤â•¨â•¡â•¨â•œâ•¨â•› 23 â•¤Ðâ•¨â–‘â•¨â•–â•¤Ðâ•¨â•¡â•¤Ð˜â•¨â•¡â•¨â•œâ•¨â••â•¨â•£ â•¨â”¤â•¨â•—â•¤ÐŸ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39m2025-12-29T09:41:51.313Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â•
[22m[39mÐÐ¯Ð¤Ð JWT verification error: JsonWebTokenError jwt malformed
Ñ‚Ð­Ðœ Auth error for GET /me : INVALID_TOKEN

 [32mÑ‚Ð¬Ð£[39m tests/integration/api/auth.api.test.js [2m([22m[2m18 tests[22m[2m)[22m[33m 65757[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•–â•¨â–‘â•¤Ðâ•¨â•¡â•¨â”‚â•¨â••â•¤Ð‘â•¤Ð’â•¤Ðâ•¨â••â•¤Ðâ•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¤Ðœ â•¨â•œâ•¨â•›â•¨â–“â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ â•¤Ð‘ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â•â•¨â•• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•â•¨â•• [33m 6972[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email [33m 2395[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¤Ð‘â•¨â•—â•¨â–‘â•¨â–’â•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ [33m 1379[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â”¤â•¤Ð“â•¨â–’â•¨â•—â•¨â••â•¤Ðâ•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•›â•¤Ð‘â•¤ÐŸ email [33m 6603[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’ â•¨â•›â•¨â–’â•¤ÐŸâ•¨â•–â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤Ðœâ•¨â•œâ•¨â•›â•¨â•¡ â•¨â”â•¨â•›â•¨â•—â•¨â•¡ [33m 1621[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ JWT â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¤Ð› â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¤Ð• credentials [33m 4792[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¨â•›â•¨â”‚â•¨â•› â•¨â”â•¨â–‘â•¤Ðâ•¨â•›â•¨â•—â•¤ÐŸ [33m 3584[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¤Ð‘â•¤Ð“â•¤Ð™â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¤Ðžâ•¤Ð™â•¨â•¡â•¨â”‚â•¨â•› â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 3108[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› email â•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð’â•¨â–‘ [33m 2243[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•‘â•¨â•—â•¤Ðžâ•¤Ð—â•¨â••â•¤Ð’â•¤Ðœ permissions â•¨â•• roles â•¨â–“ JWT payload [33m 4063[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â•›â•¨â–’â•¨â•œâ•¨â•›â•¨â–“â•¨â••â•¤Ð’â•¤Ðœ access token â•¨â”â•¨â•› refresh token [33m 3900[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¨â•›â•¨â”‚â•¨â•› refresh token [33m 3217[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 400 â•¨â•¡â•¤Ð‘â•¨â•—â•¨â•• refresh token â•¨â•›â•¤Ð’â•¤Ð‘â•¤Ð“â•¤Ð’â•¤Ð‘â•¤Ð’â•¨â–“â•¤Ð“â•¨â•¡â•¤Ð’ [33m 3109[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/logout[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¤Ð“â•¤Ð‘â•¨â”â•¨â•¡â•¤Ð˜â•¨â•œâ•¨â•› â•¤Ðâ•¨â–‘â•¨â•–â•¨â•—â•¨â•›â•¨â”‚â•¨â••â•¨â•œâ•¨â••â•¤Ð’â•¤Ðœ â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¤ÐŸ [33m 3461[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/logout[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘ [33m 2899[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ â•¨â••â•¨â•œâ•¤Ð”â•¨â•›â•¤Ðâ•¨â•â•¨â–‘â•¤Ð–â•¨â••â•¤Ðž â•¨â•› â•¤Ð’â•¨â•¡â•¨â•‘â•¤Ð“â•¤Ð™â•¨â•¡â•¨â• â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¨â•›â•¨â–“â•¨â–‘â•¤Ð’â•¨â•¡â•¨â•—â•¨â•¡ [33m 3379[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 401 â•¨â–’â•¨â•¡â•¨â•– â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â–‘ [33m 2622[2mms[22m[39m
   [33m[2mÑ‚Ð¬Ð£[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mâ•¨â”¤â•¨â•›â•¨â•—â•¨â•¢â•¨â•¡â•¨â•œ â•¨â–“â•¨â•¡â•¤Ðâ•¨â•œâ•¤Ð“â•¤Ð’â•¤Ðœ 403 â•¤Ð‘ â•¨â•œâ•¨â•¡â•¨â–“â•¨â–‘â•¨â•—â•¨â••â•¨â”¤â•¨â•œâ•¤Ð›â•¨â• â•¤Ð’â•¨â•›â•¨â•‘â•¨â•¡â•¨â•œâ•¨â•›â•¨â• [33m 3110[2mms[22m[39m

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿ Failed Suites 8 Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/contracts.api.test.js > Contracts API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/contracts.api.test.js:55:11
     53|   });
     54| 
     55|   afterAll(async () => {
       |           ^
     56|     try {
     57|       if (createdContractId) {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[1/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/estimates.api.test.js > Estimates API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/estimates.api.test.js:51:11
     49|   });
     50| 
     51|   afterAll(async () => {
       |           ^
     52|     // â•¨Ð®â•¤Ð—â•¨â••â•¤Ð‘â•¤Ð’â•¨â•‘â•¨â–‘
     53|     try {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[2/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/projects.api.test.js > Projects API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/projects.api.test.js:38:11
     36|   });
     37| 
     38|   afterAll(async () => {
       |           ^
     39|     // â•¨Ð®â•¤Ð—â•¨â••â•¤Ð‘â•¤Ð’â•¨â•‘â•¨â–‘ â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’â•¨â•›â•¨â–“â•¤Ð›â•¤Ð• â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¤Ð•
     40|     try {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[3/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/purchases.api.test.js > Purchases API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/purchases.api.test.js:54:11
     52|   });
     53| 
     54|   afterAll(async () => {
       |           ^
     55|     try {
     56|       if (createdEstimateId) {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[4/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/roles.api.test.js:29:12
     27|   let adminTenant;
     28| 
     29|   beforeAll(async () => {
       |            ^
     30|     // â•¨Ð­â•¨Ð¥ â•¨â–“â•¤Ð›â•¨â•–â•¤Ð›â•¨â–“â•¨â–‘â•¨â•¡â•¨â• cleanupTestData â•¤Ð—â•¤Ð’â•¨â•›â•¨â–’â•¤Ð› â•¨â•œâ•¨â•¡ â•¤Ð“â•¨â”¤â•¨â–‘â•¨â•—â•¨â••â•¤Ð’â•¤Ðœ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¨â”¤â•¤Ðâ•¤Ð“â•¨â”‚â•¨â••â•¤Ð• â•¤Ð’â•¨â•¡â•¤Ð‘â•¤Ð’Ñ‚ÐÐ¶
     31|     // â•¨Ð¨â•¤Ð‘â•¨â”â•¨â•›â•¨â•—â•¤Ðœâ•¨â•–â•¤Ð“â•¨â•¡â•¨â• â•¤Ð“â•¨â•œâ•¨â••â•¨â•‘â•¨â–‘â•¨â•—â•¤Ðœâ•¨â•œâ•¤Ð›â•¨â•£ email domain â•¨â”¤â•¨â•—â•¤ÐŸ â•¨â••â•¨â•–â•¨â•›â•¨â•—â•¤ÐŸâ•¤Ð–â•¨â••â•¨â••

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[5/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/roles.api.test.js:87:11
     85|   });
     86| 
     87|   afterAll(async () => {
       |           ^
     88|     // â•¨Ð®â•¤Ð—â•¨â••â•¤Ð™â•¨â–‘â•¨â•¡â•¨â• â•¤Ð’â•¨â•›â•¨â•—â•¤Ðœâ•¨â•‘â•¨â•› â•¨Ð­â•¨Ð â•¨Ð¸â•¨Ð¨ â•¨â”¤â•¨â–‘â•¨â•œâ•¨â•œâ•¤Ð›â•¨â•¡ â•¤Ð‘ @rolestest.local
     89|     try {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[6/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/schedules.api.test.js > Schedules API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/schedules.api.test.js:54:11
     52|   });
     53| 
     54|   afterAll(async () => {
       |           ^
     55|     try {
     56|       if (createdEstimateId) {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[7/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/users.api.test.js > Users API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/users.api.test.js:38:11
     36|   });
     37| 
     38|   afterAll(async () => {
       |           ^
     39|     try {
     40|       if (createdUserId) {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[8/9]Ñ‚ÐžÐ¿

 FAIL  tests/integration/api/works.api.test.js > Works API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 Ñ‚Ð­Ð¿ tests/integration/api/works.api.test.js:36:11
     34|   });
     35| 
     36|   afterAll(async () => {
       |           ^
     37|     try {
     38|       if (createdWorkId) {

Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿Ñ‚ÐžÐ¿[9/9]Ñ‚ÐžÐ¿


[2m Test Files [22m [1m[31m8 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (10)[39m
[2m      Tests [22m [1m[32m132 passed[39m[22m[2m | [22m[33m8 skipped[39m[90m (140)[39m
[2m   Start at [22m 12:32:22
[2m   Duration [22m 569.22s[2m (transform 859ms, setup 2.31s, collect 35.39s, tests 298.36s, environment 14.38s, prepare 2.50s)[22m

