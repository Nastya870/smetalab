# –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏ - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## üìã –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–æ–ª—è–º–∏ –¥–ª—è SaaS-–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å —Ç—ã—Å—è—á–∞–º–∏ —Ç–µ–Ω–∞–Ω—Ç–æ–≤.

### –ü—Ä–æ–±–ª–µ–º–∞
- ‚ùå –ù–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å admin —Ä–æ–ª—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ 1000 —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –≤—Ä—É—á–Ω—É—é - –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ
- ‚ùå –î–∞–≤–∞—Ç—å —Ç–µ–Ω–∞–Ω—Ç–∞–º –ø—Ä–∞–≤–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å admin —Ä–æ–ª—å - –æ–ø–∞—Å–Ω–æ

### –†–µ—à–µ–Ω–∏–µ
- ‚úÖ **–ì–ª–æ–±–∞–ª—å–Ω–∞—è —à–∞–±–ª–æ–Ω–Ω–∞—è admin —Ä–æ–ª—å** - super_admin –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –æ–¥–∏–Ω —Ä–∞–∑
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** - –Ω–æ–≤—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã –ø–æ–ª—É—á–∞—é—Ç —Ä–æ–ª—å –∏–∑ —à–∞–±–ª–æ–Ω–∞
- ‚úÖ **–ó–∞–ø—Ä–µ—Ç –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - tenant admin –Ω–µ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å admin —Ä–æ–ª—å

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –¢–∏–ø—ã —Ä–æ–ª–µ–π

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ì–õ–û–ë–ê–õ–¨–ù–´–ï –†–û–õ–ò (tenant_id = NULL)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. super_admin - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ             ‚îÇ
‚îÇ  2. admin (—à–∞–±–ª–æ–Ω) - —à–∞–±–ª–æ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤           ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –†–û–õ–ò –¢–ï–ù–ê–ù–¢–ê (tenant_id = UUID)                        ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. admin - –∫–æ–ø–∏—è —à–∞–±–ª–æ–Ω–∞ (ÔøΩ —Å–∫—Ä—ã—Ç–∞ –æ—Ç tenant admin)   ‚îÇ
‚îÇ  2. manager - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ (‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è)   ‚îÇ
‚îÇ  3. estimator - —Å–æ–∑–¥–∞–Ω–∏–µ —Å–º–µ—Ç (‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è)        ‚îÇ
‚îÇ  4. worker - –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞–±–æ—Ç (‚úèÔ∏è —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç—Å—è)          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üë• –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### Super Admin (kiy026@yandex.ru)

**–í–∏–¥–∏—Ç:**
- `super_admin` - —Å–≤–æ—è –≥–ª–æ–±–∞–ª—å–Ω–∞—è —Ä–æ–ª—å
- `admin (—à–∞–±–ª–æ–Ω)` - –≥–ª–æ–±–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω –¥–ª—è –≤—Å–µ—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤

**–ú–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- –¢–æ–ª—å–∫–æ `admin (—à–∞–±–ª–æ–Ω)` - –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ –Ω–æ–≤—ã–º —Ç–µ–Ω–∞–Ω—Ç–∞–º

**–ù–ï –º–æ–∂–µ—Ç:**
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–æ–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤ (manager, worker –∏ —Ç.–¥.)

### Tenant Admin (–Ω–∞–ø—Ä–∏–º–µ—Ä, i.sknewcity@gmail.com)

**–í–∏–¥–∏—Ç:**
- `manager`, `estimator`, `worker` - —Ç–æ–ª—å–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º—ã–µ —Ä–æ–ª–∏ —Å–≤–æ–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
- –ù–ï –≤–∏–¥–∏—Ç `admin` —Ä–æ–ª—å (—É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è super_admin)

**–ú–æ–∂–µ—Ç —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å:**
- `manager`, `estimator`, `worker` - –≤—Å–µ —Ä–æ–ª–∏ –∫–æ—Ç–æ—Ä—ã–µ –≤–∏–¥–∏—Ç

**–ù–ï –º–æ–∂–µ—Ç:**
- –í–∏–¥–µ—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å `admin` —Ä–æ–ª—å (–ø–æ–ª–Ω–æ—Å—Ç—å—é —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è super_admin —á–µ—Ä–µ–∑ —à–∞–±–ª–æ–Ω)

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

### 1. –ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (–æ–¥–∏–Ω —Ä–∞–∑)

```bash
# –°–æ–∑–¥–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–π —à–∞–±–ª–æ–Ω admin —Ä–æ–ª–∏
node create-global-admin-template.cjs

# –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ admin —Ä–æ–ª–∏
node sync-admin-roles-with-template.cjs
```

### 2. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞

```javascript
// authController.js -> register()
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –°–æ–∑–¥–∞–µ—Ç—Å—è —Ç–µ–Ω–∞–Ω—Ç
2. –°–æ–∑–¥–∞—é—Ç—Å—è 4 —Ä–æ–ª–∏: admin, manager, estimator, worker
3. Admin —Ä–æ–ª—å –ø–æ–ª—É—á–∞–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∏–∑ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞
4. –ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è admin'–æ–º
```

### 3. –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π admin —Ä–æ–ª–∏

```javascript
// Super admin —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç —à–∞–±–ª–æ–Ω:
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏"
2. –í—ã–±–∏—Ä–∞–µ—Ç "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—à–∞–±–ª–æ–Ω)"
3. –ò–∑–º–µ–Ω—è–µ—Ç —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
4. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç

// –≠—Ñ—Ñ–µ–∫—Ç:
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ–Ω–∞–Ω—Ç—ã: —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –ù–ï –∏–∑–º–µ–Ω—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –ù–æ–≤—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã: –ø–æ–ª—É—á–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
```

### 4. –†—É—á–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

```bash
# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —à–∞–±–ª–æ–Ω–∞ –∫–æ –≤—Å–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º —Ç–µ–Ω–∞–Ω—Ç–∞–º
node sync-admin-roles-with-template.cjs
```

---

## üìÅ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### Backend

1. **server/controllers/rolesController.js**
   - `getAllRoles()` - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - `updateRole()` - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –Ω–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

2. **server/utils/createDefaultRoles.js**
   - –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π –∏–∑ —à–∞–±–ª–æ–Ω–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

3. **server/utils/jwt.js**
   - –î–æ–±–∞–≤–ª–µ–Ω `roleKey` –≤ payload —Ç–æ–∫–µ–Ω–∞

### Database

```sql
-- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏ (tenant_id = NULL)
INSERT INTO roles (key, name, description, tenant_id)
VALUES 
  ('super_admin', '–°—É–ø–µ—Ä –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', '...', NULL),
  ('admin', '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—à–∞–±–ª–æ–Ω)', '...', NULL);

-- –†–æ–ª–∏ —Ç–µ–Ω–∞–Ω—Ç–∞ (tenant_id = UUID)
INSERT INTO roles (key, name, description, tenant_id)
VALUES 
  ('admin', '–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä', '...', '<tenant_id>'),
  ('manager', '–ú–µ–Ω–µ–¥–∂–µ—Ä', '...', '<tenant_id>'),
  ('estimator', '–°–º–µ—Ç—á–∏–∫', '...', '<tenant_id>'),
  ('worker', '–†–∞–±–æ—Ç–Ω–∏–∫', '...', '<tenant_id>');
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```bash
node final-roles-check.cjs
```

**–í—ã–≤–æ–¥–∏—Ç:**
- –°–ø–∏—Å–æ–∫ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö —Ä–æ–ª–µ–π
- –ß—Ç–æ –≤–∏–¥–∏—Ç super_admin
- –†–æ–ª–∏ –∫–∞–∂–¥–æ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
- –°—Ç–∞—Ç—É—Å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ admin —Ä–æ–ª–µ–π

### –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

```
‚úÖ Super Admin –≤–∏–¥–∏—Ç: 2 —Ä–æ–ª–∏ (super_admin + admin —à–∞–±–ª–æ–Ω)
‚úÖ Tenant Admin –≤–∏–¥–∏—Ç: 4 —Ä–æ–ª–∏ (admin, manager, estimator, worker)
‚úÖ –í—Å–µ admin —Ä–æ–ª–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Å —à–∞–±–ª–æ–Ω–æ–º (46 —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π)
```

---

## üöÄ –î–µ–ø–ª–æ–π

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# 1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
Ctrl+C
npm run dev

# 2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ UI:
# - –í–æ–π—Ç–∏ –∫–∞–∫ super_admin (kiy026@yandex.ru)
# - –û—Ç–∫—Ä—ã—Ç—å "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏"
# - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤–∏–¥–Ω—ã —Ç–æ–ª—å–∫–æ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏

# 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫ tenant admin:
# - –í–æ–π—Ç–∏ –∫–∞–∫ i.sknewcity@gmail.com
# - –û—Ç–∫—Ä—ã—Ç—å "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏"
# - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ admin —Ä–æ–ª—å –ù–ï –í–ò–î–ù–ê –≤ —Å–ø–∏—Å–∫–µ (—Ç–æ–ª—å–∫–æ manager, estimator, worker)

# 4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ Vercel
vercel --prod --yes
```

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏:** 2 (super_admin, admin —à–∞–±–ª–æ–Ω)
- **–†–æ–ª–∏ –Ω–∞ —Ç–µ–Ω–∞–Ω—Ç–∞:** 4 (admin, manager, estimator, worker)
- **–†–∞–∑—Ä–µ—à–µ–Ω–∏–π –≤ admin:** 46
- **–¢–µ–Ω–∞–Ω—Ç–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ:** 2 (SMETA LAB, –û–û–û –°–ö –ù–æ–≤—ã–π –ì–æ—Ä–æ–¥)

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—Å–∞–Ω–∫—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

1. **Tenant Admin –ù–ï –ú–û–ñ–ï–¢:**
   - –í–∏–¥–µ—Ç—å admin —Ä–æ–ª—å (–ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–∫—Ä—ã—Ç–∞ –≤ —Å–ø–∏—Å–∫–µ)
   - –ò–∑–º–µ–Ω—è—Ç—å admin —Ä–æ–ª—å —Å–≤–æ–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞
   - –í–∏–¥–µ—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –¥—Ä—É–≥–∏—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤
   - –°–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–µ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ä–æ–ª–∏

2. **Super Admin –ù–ï –ú–û–ñ–ï–¢:**
   - –ò–∑–º–µ–Ω—è—Ç—å —Ä–æ–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤ (—Ç–æ–ª—å–∫–æ —à–∞–±–ª–æ–Ω)
   - –£–¥–∞–ª—è—Ç—å super_admin —Ä–æ–ª—å

3. **–ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ API:**
   - `roleKey` –≤ JWT —Ç–æ–∫–µ–Ω–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ `tenant_id` –≤ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ
   - –ó–∞–ø—Ä–µ—Ç –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ `super_admin` —Ä–æ–ª–∏

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —à–∞–±–ª–æ–Ω–∞ admin —Ä–æ–ª–∏

**–ö–æ–≥–¥–∞ –∏–∑–º–µ–Ω—è—Ç—å:**
- –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –≤ –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
- –ù—É–∂–Ω–æ –¥–∞—Ç—å/–æ—Ç–æ–∑–≤–∞—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ —É –≤—Å–µ—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**–ö–∞–∫ –∏–∑–º–µ–Ω—è—Ç—å:**
1. –í–æ–π—Ç–∏ –∫–∞–∫ super_admin
2. –û—Ç–∫—Ä—ã—Ç—å "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è–º–∏"
3. –í—ã–±—Ä–∞—Ç—å "–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (—à–∞–±–ª–æ–Ω)"
4. –ò–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
5. –°–æ—Ö—Ä–∞–Ω–∏—Ç—å

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –ù–æ–≤—ã–µ —Ç–µ–Ω–∞–Ω—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —à–∞–±–ª–æ–Ω
- –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤ –∑–∞–ø—É—Å—Ç–∏—Ç—å: `node sync-admin-roles-with-template.cjs`

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ä–æ–ª–µ–π –¥–ª—è —Ç–µ–Ω–∞–Ω—Ç–æ–≤

–¢–µ–Ω–∞–Ω—Ç—ã –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ —Ä–æ–ª–∏ —á–µ—Ä–µ–∑ UI, –Ω–æ:
- –†–æ–ª–∏ —Å –∫–ª—é—á–æ–º `admin` –∑–∞–ø—Ä–µ—â–µ–Ω—ã
- Tenant admin —Å–æ–∑–¥–∞–µ—Ç —Ä–æ–ª–∏ —Ç–æ–ª—å–∫–æ –¥–ª—è —Å–≤–æ–µ–≥–æ —Ç–µ–Ω–∞–Ω—Ç–∞

---

## üéØ –ò—Ç–æ–≥

–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- ‚úÖ **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å—Å—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–¥–∏–Ω —Ä–∞–∑ –¥–ª—è –≤—Å–µ—Ö —Ç–µ–Ω–∞–Ω—Ç–æ–≤
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - —Ç–µ–Ω–∞–Ω—Ç—ã –Ω–µ –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è
- ‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - super_admin –º–æ–∂–µ—Ç –æ–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç
- ‚úÖ **–ê–≤—Ç–æ–Ω–æ–º–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π —Ç–µ–Ω–∞–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ —Ä–æ–ª—è–º–∏ (–∫—Ä–æ–º–µ admin)
