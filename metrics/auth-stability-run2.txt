
> berry-material-react-js@4.1.2 test:integration
> vitest run tests/integration auth.api.test.js


[1m[46m RUN [49m[22m [36mv3.2.4 [39m[90mC:/Users/Admin/Desktop/smetalab v3[39m

[dotenv@17.2.3] injecting env (14) from .env -- tip: ╨Б╨п╨л╨░╤ПтХХ╨Я  run anywhere with `dotenvx run -- yourcommand`

╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а
╨Б╨п╨д╨╖ SETUP: тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб тХитХЭтХитХХтХитФВтХд╨РтХитЦСтХд╨ЦтХитХХтХитХг тХитФдтХитХЧтХд╨Я тХитХХтХитХЬтХд╨ТтХитХбтХитФВтХд╨РтХитЦСтХд╨ЦтХитХХтХитХЫтХитХЬтХитХЬтХд╨ЫтХд╨Х тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУ
╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а

╨Б╨п╨д╨Ь тХи╨птХитХЫтХитФдтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХбтХитХЬтХитХХтХитХб тХитХС тХи╨бтХи╨д тХитФдтХитХЧтХд╨Я тХитХЭтХитХХтХитФВтХд╨РтХитЦСтХд╨ЦтХитХХтХитХг...

╨Б╨п╨г╨Ы тХи╨мтХитХХтХитФВтХд╨РтХитЦСтХд╨ЦтХитХХтХитХХ (54):
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 001_create_auth_tables.sql
╤В╨к╨░╤ПтХХ╨Я  001_create_auth_tables.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 003_create_works_table.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 003_create_works_table.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 003_setup_rls.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 003_setup_rls.sql: permission denied to create role
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 004_create_estimates.sql
╤В╨к╨░╤ПтХХ╨Я  004_create_estimates.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 004_create_materials_table.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 004_create_materials_table.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 005_add_global_references_support.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 005_add_global_references_support.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 006_add_performance_indexes.sql
╤В╨м╨Х 006_add_performance_indexes.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 007_create_projects_tables.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 007_create_projects_tables.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 008_create_estimates_tables.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 008_create_estimates_tables.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 009_add_composite_indexes.sql
╤В╨м╨Х 009_add_composite_indexes.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 009_create_object_parameters_tables.sql
╤В╨к╨░╤ПтХХ╨Я  009_create_object_parameters_tables.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 010_add_source_type_to_estimate_items.sql
╤В╨к╨░╤ПтХХ╨Я  010_add_source_type_to_estimate_items.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 011_add_hierarchy_to_works.sql
╤В╨м╨Х 011_add_hierarchy_to_works.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 011_add_work_hierarchy.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 011_add_work_hierarchy.sql: function current_tenant_id() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 012_additional_updates.sql
╤В╨м╨Х 012_additional_updates.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 012_create_work_materials_table.sql
╤В╨к╨░╤ПтХХ╨Я  012_create_work_materials_table.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 012_populate_work_hierarchy_demo_data.sql
╤В╨м╨Х 012_populate_work_hierarchy_demo_data.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 013_create_estimate_item_materials.sql
╤В╨к╨░╤ПтХХ╨Я  013_create_estimate_item_materials.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 014_add_auto_calculate_to_materials.sql
╤В╨м╨Х 014_add_auto_calculate_to_materials.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 014_add_work_id_to_estimate_items.sql
╤В╨к╨░╤ПтХХ╨Я  014_add_work_id_to_estimate_items.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 015_create_schedules_table.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 015_create_schedules_table.sql: function update_updated_at_column() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 019_add_consumption_unit_to_materials.sql
╤В╨м╨Х 019_add_consumption_unit_to_materials.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 020_add_auto_calculate_to_estimate_materials.sql
╤В╨м╨Х 020_add_auto_calculate_to_estimate_materials.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 020_add_sku_number_for_sorting.sql
╤В╨м╨Х 020_add_sku_number_for_sorting.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 021_create_purchases_table.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 021_create_purchases_table.sql: function update_updated_at_column() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 022_add_image_to_purchases.sql
╤В╨м╨Х 022_add_image_to_purchases.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 023_create_global_purchases.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 023_create_global_purchases.sql: function update_updated_at_column() does not exist
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 024_add_purchased_quantity.sql
╤В╨к╨░╤ПтХХ╨Я  024_add_purchased_quantity.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 028_remove_purchased_quantity_constraint.sql
╤В╨м╨Х 028_remove_purchased_quantity_constraint.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 029_update_project_statuses.sql
╤В╨м╨Х 029_update_project_statuses.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 030_create_work_completion_table.sql
╤В╨к╨░╤ПтХХ╨Я  030_create_work_completion_table.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 031_create_work_completion_acts.sql
╤В╨к╨░╤ПтХХ╨Я  031_create_work_completion_acts.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 032_add_last_act_to_work_completions.sql
╤В╨к╨░╤ПтХХ╨Я  032_add_last_act_to_work_completions.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 032_update_act_statuses.sql
╤В╨м╨Х 032_update_act_statuses.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 033_create_counterparties.sql
╤В╨к╨░╤ПтХХ╨Я  033_create_counterparties.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 034_add_ks2_ks3_fields.sql
╤В╨к╨░╤ПтХХ╨Я  034_add_ks2_ks3_fields.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 035_add_tenant_details.sql
╤В╨м╨Х 035_add_tenant_details.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 036_add_contract_number.sql
╤В╨м╨Х 036_add_contract_number.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 037_create_contracts.sql
╤В╨к╨░╤ПтХХ╨Я  037_create_contracts.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 037_make_project_dates_nullable.sql
╤В╨м╨Х 037_make_project_dates_nullable.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 038_add_logo_to_tenants.sql
╤В╨м╨Х 038_add_logo_to_tenants.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 038_update_counterparties_passport_fields.sql
╤В╨м╨Х 038_update_counterparties_passport_fields.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 040_create_contracts_table.sql
╤В╨к╨░╤ПтХХ╨Я  040_create_contracts_table.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 041_optimize_materials_query.sql
╤В╨м╨Х 041_optimize_materials_query.sql
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 042_fix_works_code_uniqueness.sql
╤В╨к╨░╤ПтХХ╨Я  042_fix_works_code_uniqueness.sql (already exists, skipped)
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 043_create_estimate_templates.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 043_create_estimate_templates.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 044_add_work_link_to_template_materials.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 044_add_work_link_to_template_materials.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 050_add_partial_indexes_for_fast_filtering.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 050_add_partial_indexes_for_fast_filtering.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 050_manual_category_index.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 050_manual_category_index.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 051_add_ui_visibility_to_permissions.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 051_add_ui_visibility_to_permissions.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 052_optimize_materials_search.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 052_optimize_materials_search.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 053_add_weight_to_estimate_materials.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 053_add_weight_to_estimate_materials.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 054_add_category_to_works.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 054_add_category_to_works.sql: current transaction is aborted, commands ignored until end of transaction block
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 055_fix_materials_numeric_precision.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 055_fix_materials_numeric_precision.sql: current transaction is aborted, commands ignored until end of transaction block

╨Б╨п╨ЬтЦТ тХи╨▒тХитХХтХитФдтХд╨Ы (1):
╨Б╨п╨г╨Ф тХи╨птХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХитХХтХитХб: 002_seed_roles_permissions.sql
╤В╨н╨Ь тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитЦУ 002_seed_roles_permissions.sql: current transaction is aborted, commands ignored until end of transaction block

╤В╨м╨Х тХи╨мтХитХХтХитФВтХд╨РтХитЦСтХд╨ЦтХитХХтХитХХ тХитФРтХд╨РтХитХХтХитХЭтХитХбтХитХЬтХитХбтХитХЬтХд╨Ы: 35/55
╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а╤В╨е╨а

╤В╨м╨Х Setup тХитХЦтХитЦСтХитЦУтХитХбтХд╨РтХд╨ШтХд╨бтХитХЬ, тХитХЬтХитЦСтХд╨ЧтХитХХтХитХЬтХитЦСтХитХбтХитХЭ тХд╨ТтХитХбтХд╨СтХд╨ТтХд╨Ы...

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m╤В╨м╨Х Vitest setup completed

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨г╨▒ add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  write to custom object with { processEnv: myObject }

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  suppress all logs with { quiet: true }

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  override existing env vars with { override: true }

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨б add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨Ф add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨м╨Х audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨м╨Х audit secrets and track compliance: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨б add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  suppress all logs with { quiet: true }

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨б╨╡ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨з╨Т╤ПтХХ╨Я backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨з╨Т╤ПтХХ╨Я backup and recover secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨б add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  suppress all logs with { quiet: true }

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨г╨▒ add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а prevent building .env in docker: https://dotenvx.com/prebuild

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨Ф add secrets lifecycle management: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨б╨╡ sync secrets across teammates & machines: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m
╨Б╨п╨к╨Р Express API server running on http://localhost:3001
╨Б╨п╨г╨к API Documentation: http://localhost:3001/api-docs
╤ПтФРтХЬ╨Б╨п╨г╨Ъ Health check: http://localhost:3001/api/health
╨Б╨п╨д╨а Auth endpoints: http://localhost:3001/api/auth/*
╨Б╨п╨г╨Ы Works endpoints: http://localhost:3001/api/works
╨Б╨п╨д╨╖ Materials endpoints: http://localhost:3001/api/materials
╨Б╨п╨д╨з Work-Materials endpoints: http://localhost:3001/api/work-materials
╨Б╨п╨Я╨з╤ПтХХ╨Я  Projects endpoints: http://localhost:3001/api/projects


[90mstdout[2m | tests/integration/api/roles.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а encrypt with Dotenvx: https://dotenvx.com

[90mstdout[2m | tests/integration/api/estimates.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨б add access controls to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/projects.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  enable debug logging with { debug: true }

[90mstdout[2m | tests/integration/api/users.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨л╨░╤ПтХХ╨Я  run anywhere with `dotenvx run -- yourcommand`

[90mstdout[2m | tests/integration/api/works.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨г╨▒ add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/auth.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨г╨▒ add observability to secrets: https://dotenvx.com/ops

[90mstdout[2m | tests/integration/api/contracts.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/purchases.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  specify custom .env file path with { path: '/custom/path/.env' }

[90mstdout[2m | tests/integration/api/materials.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╤В╨к╨й╤ПтХХ╨Я  load multiple .env files with { path: ['.env.local', '.env'] }

[90mstdout[2m | tests/integration/api/schedules.api.test.js
[22m[39m[dotenv@17.2.3] injecting env (0) from .env -- tip: ╨Б╨п╨д╨а prevent committing .env to code: https://dotenvx.com/precommit

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m2025-12-29T09:26:43.046Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 6bedbdd0-5093-45bf-bf1e-bb18dba69cb8

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 0b5af234-4aec-4b27-90e5-c5835cc311d5

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС c9963ff0-e30f-4e9c-ae5a-f300b5c07960

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС ee8c9df3-6a34-4ac9-b267-f3903bd07c82

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 2f9d0abf-017f-4f7c-b0ac-3aaef996df53

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 5d5a14a7-7b03-449f-8311-e44ee76d1168

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС c2e94506-1b6c-48d2-9513-ca73e6033dfb

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС ad994922-5e7d-4197-92a7-250e1adda017

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39m2025-12-29T09:26:44.518Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m2025-12-29T09:26:44.518Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m2025-12-29T09:26:44.557Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39m2025-12-29T09:26:44.587Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39m2025-12-29T09:26:44.594Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 2cadeb94-6fa6-437e-be57-4ce6809141c7

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39m2025-12-29T09:26:44.712Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m2025-12-29T09:26:44.776Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m2025-12-29T09:26:45.003Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 99f2f2b7-2df2-4522-ad5e-33375f5bd588

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС Company newuser-1767000404405

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 910aeb9e-a655-40e2-9091-37df55bcfd8e

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╨Б╨п╨г╨╖ [Auth] тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХХтХитХб тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС тХитЦУтХитХбтХд╨РтХитХХтХд╨ФтХитХХтХитХСтХитЦСтХд╨ЦтХитХХтХитХХ тХитФдтХитХЧтХд╨Я newuser@authtest.local

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╨Б╨п╨г╨╖ [Auth] тХи╨▓тХитХЫтХитХСтХитХбтХитХЬ тХд╨СтХитХЫтХд╨ХтХд╨РтХитЦСтХитХЬтХитХбтХитХЬ тХитЦУ тХи╨бтХи╨д, тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХд╨ЯтХитХбтХитХЭ email...
╨Б╨п╨г╨╖ [EmailService] тХи╨отХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХСтХитЦС email тХитХЬтХитЦС newuser@authtest.local
╨Б╨п╨г╨╖ [EmailService] тХи╨▓тХитХбтХитХЭтХитЦС: тХи╨птХитХЫтХитФдтХд╨ТтХитЦУтХитХбтХд╨РтХитФдтХитХХтХд╨ТтХитХб тХитЦУтХитЦСтХд╨Ш email - Smeta Lab
╨Б╨п╨г╨╖ [EmailService] тХи╨отХд╨Т: Smeta Lab <noreply@smeta-lab.ru>
╨Б╨п╨г╨╖ [EmailService] Resend тХитХСтХитХЧтХитХХтХитХбтХитХЬтХд╨Т тХитХХтХитХЬтХитХХтХд╨ЦтХитХХтХитЦСтХитХЧтХитХХтХитХЦтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХитХЬ

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х [EmailService] Email тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХитХбтХитХЬ: {
  id: [32m'424706e7-46a4-4099-9a99-e6db772e95e5'[39m,
  to: [32m'newuser@authtest.local'[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х [Auth] тХи╨птХитХХтХд╨СтХд╨ЬтХитХЭтХитХЫ тХитФРтХитХЫтХитФдтХд╨ТтХитЦУтХитХбтХд╨РтХитХвтХитФдтХитХбтХитХЬтХитХХтХд╨Я тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХитХбтХитХЬтХитХЫ тХитХЬтХитЦС newuser@authtest.local

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m2025-12-29T09:26:47.033Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m╨Б╨п╨д╨а Login estimates-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests
[22m[39m╨Б╨п╨д╨а Login works-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m╨Б╨п╨д╨а Login contracts-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests
[22m[39m╨Б╨п╨д╨а Login materials-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests
[22m[39m╨Б╨п╨д╨а Login projects-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m╨Б╨п╨д╨а Login schedules-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m2025-12-29T09:26:47.733Z - POST /api/projects

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects estimates-test@test.com
╤В╨м╨Х Auth: User authenticated POST / estimates-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 7e2be644-bded-48a7-9c49-cf23564db674

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mPOST /api/projects/:projectId/estimates[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:47.744Z - POST /api/projects/00000000-0000-0000-0000-000000000000/estimates

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mPOST /api/projects/:projectId/estimates[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects/00000000-0000-0000-0000-000000000000/estimates estimates-test@test.com
╤В╨м╨Х Permission granted via hierarchy: estimates.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ projects.create) for user 7e2be644-bded-48a7-9c49-cf23564db674

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/projects/:projectId/estimates[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:47.752Z - GET /api/projects/undefined/estimates

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/projects/:projectId/estimates[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /projects/undefined/estimates

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:47.759Z - GET /api/estimates/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated GET /estimates/00000000-0000-0000-0000-000000000000 estimates-test@test.com
╤В╨м╨Х Permission granted via hierarchy: estimates.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ projects.read) for user 7e2be644-bded-48a7-9c49-cf23564db674
[findByIdWithDetails] Loading estimate 00000000-0000-0000-0000-000000000000 for tenant c9963ff0-e30f-4e9c-ae5a-f300b5c07960

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m╨Б╨п╨д╨а Login purchases-test@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mGET /api/estimates/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m[findByIdWithDetails] Estimate not found

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mDELETE /api/estimates/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:47.944Z - DELETE /api/estimates/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/estimates.api.test.js[2m > [22m[2mEstimates API Integration Tests[2m > [22m[2mDELETE /api/estimates/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /estimates/00000000-0000-0000-0000-000000000000 estimates-test@test.com
╤В╨м╨Х Permission granted: estimates.delete for user 7e2be644-bded-48a7-9c49-cf23564db674

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m2025-12-29T09:26:47.988Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated POST / projects-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email
[22m[39m2025-12-29T09:26:48.025Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m2025-12-29T09:26:48.030Z - POST /api/projects

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m2025-12-29T09:26:48.031Z - POST /api/projects

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m2025-12-29T09:26:48.032Z - POST /api/materials

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m2025-12-29T09:26:48.034Z - POST /api/works

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects schedules-test@test.com
╤В╨м╨Х Auth: User authenticated POST / schedules-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 44342581-eb73-45ad-b515-352da0e71e53

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╤В╨м╨Х Auth: User authenticated POST /materials materials-test@test.com
╤В╨м╨Х Auth: User authenticated POST / materials-test@test.com
╤В╨м╨Х Permission granted via hierarchy: materials.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ references.create) for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects contracts-test@test.com
╤В╨м╨Х Auth: User authenticated POST / contracts-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 4f2b61ad-9b5f-44b0-9714-13ed1efa355b

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╤В╨м╨Х Auth: User authenticated POST /works works-test@test.com
╤В╨м╨Х Auth: User authenticated POST / works-test@test.com
╤В╨м╨Х Permission granted via hierarchy: works.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ references.create) for user fd6764b5-32b8-4684-afa7-5297f9873de9

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m2025-12-29T09:26:48.043Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m2025-12-29T09:26:48.046Z - POST /api/contracts/generate

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m╤В╨м╨Х Auth: User authenticated POST /schedules/generate schedules-test@test.com
╤В╨м╨Х Auth: User authenticated POST /generate schedules-test@test.com
[SCHEDULES] Generate request: {
  estimateId: [90mundefined[39m,
  projectId: [90mundefined[39m,
  tenantId: [32m'c2e94506-1b6c-48d2-9513-ca73e6033dfb'[39m,
  userId: [32m'44342581-eb73-45ad-b515-352da0e71e53'[39m
}

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:48.051Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m╤В╨м╨Х Auth: User authenticated POST /contracts/generate contracts-test@test.com
╤В╨м╨Х Auth: User authenticated POST /contracts/generate contracts-test@test.com
╤В╨м╨Х Auth: User authenticated POST /contracts/generate contracts-test@test.com
╤В╨м╨Х Auth: User authenticated POST /generate contracts-test@test.com

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mPOST /api/schedules/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /schedules/generate

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:48.057Z - POST /api/contracts/generate

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mGET /api/schedules/estimate/:estimateId[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨УтХд╨СтХд╨ТтХитХЫтХитХг тХитХЫтХд╨ТтХитЦУтХитХбтХд╨Т тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы тХитЦТтХитХбтХитХЦ тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХСтХитЦС
[22m[39m2025-12-29T09:26:48.057Z - GET /api/schedules/estimate/99999999

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mPOST /api/contracts/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /contracts/generate

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mGET /api/schedules/estimate/:estimateId[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨УтХд╨СтХд╨ТтХитХЫтХитХг тХитХЫтХд╨ТтХитЦУтХитХбтХд╨Т тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы тХитЦТтХитХбтХитХЦ тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХСтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /schedules/estimate/99999999 schedules-test@test.com
╤В╨м╨Х Auth: User authenticated GET /estimate/99999999 schedules-test@test.com

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mGET /api/contracts/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС
[22m[39m2025-12-29T09:26:48.063Z - GET /api/contracts/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mGET /api/contracts/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated GET /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 contracts-test@test.com

stderr | tests/integration/api/estimates.api.test.js > Estimates API Integration Tests > DELETE /api/estimates/:id > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
Error deleting estimate: Error: тХи╨▒тХитХЭтХитХбтХд╨ТтХитЦС тХитХЬтХитХб тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитЦС тХитХХтХитХЧтХитХХ тХитХЬтХитХбтХд╨Т тХитФдтХитХЫтХд╨СтХд╨ТтХд╨УтХитФРтХитЦС
    at Object.deleteEstimate (C:\Users\Admin\Desktop\smetalab v3\server\repositories\estimatesRepository.js:205:11)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at deleteEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\estimatesController.js:494:5)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ objectName тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:26:48.141Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ objectName тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated POST / projects-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:48.149Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPOST /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ
[22m[39m2025-12-29T09:26:48.154Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET / projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m2025-12-29T09:26:48.241Z - POST /api/projects

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects purchases-test@test.com
╤В╨м╨Х Auth: User authenticated POST / purchases-test@test.com
╤В╨м╨Х Permission granted: projects.create for user ad416815-0da2-4304-a9d0-fd468a839c57

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m2025-12-29T09:26:48.253Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId
[22m[39m╤В╨м╨Х Auth: User authenticated POST /purchases/generate purchases-test@test.com
╤В╨м╨Х Auth: User authenticated POST /generate purchases-test@test.com
[PURCHASES] Generate request: {
  estimateId: [90mundefined[39m,
  projectId: [90mundefined[39m,
  tenantId: [32m'2cadeb94-6fa6-437e-be57-4ce6809141c7'[39m,
  userId: [32m'ad416815-0da2-4304-a9d0-fd468a839c57'[39m
}

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:48.262Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mPOST /api/purchases/generate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mGET /api/purchases/estimate/:estimateId[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:48.267Z - GET /api/purchases/estimate/99999999

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mGET /api/purchases/estimate/:estimateId[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated GET /purchases/estimate/99999999 purchases-test@test.com
╤В╨м╨Х Auth: User authenticated GET /estimate/99999999 purchases-test@test.com

stderr | tests/integration/api/schedules.api.test.js > Schedules API Integration Tests > GET /api/schedules/estimate/:estimateId > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨УтХд╨СтХд╨ТтХитХЫтХитХг тХитХЫтХд╨ТтХитЦУтХитХбтХд╨Т тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы тХитЦТтХитХбтХитХЦ тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХСтХитЦС
Error fetching schedule: error: invalid input syntax for type uuid: "99999999"
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg\lib\client.js:545:17
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.findByEstimateId (C:\Users\Admin\Desktop\smetalab v3\server\repositories\schedulesRepository.js:38:20)
    at getScheduleByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\schedulesController.js:166:27) {
  length: 140,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $1 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '174',
  routine: 'string_to_uuid'
}

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:48.326Z - POST /api/schedules/generate

[90mstdout[2m | tests/integration/api/schedules.api.test.js[2m > [22m[2mSchedules API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for POST /schedules/generate : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests
[22m[39m╨Б╨п╨д╨а Login users-admin@test.com: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m[CREATE MATERIAL] {
  tenant_id: [32m'0b5af234-4aec-4b27-90e5-c5835cc311d5'[39m,
  created_by: [32m'57e582fe-e4de-45b9-9213-3fc3a17b537a'[39m,
  sku: [32m'MAT-TEST-1767000408028'[39m,
  isGlobal: [33mfalse[39m
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитЦСтХитФВтХитХХтХитХЬтХитЦСтХд╨ЦтХитХХтХд╨Ю
[22m[39m2025-12-29T09:26:48.707Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитЦСтХитФВтХитХХтХитХЬтХитЦСтХд╨ЦтХитХХтХд╨Ю
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET / projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:48.732Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m[CREATE WORK] {
  tenant_id: [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m,
  created_by: [32m'fd6764b5-32b8-4684-afa7-5297f9873de9'[39m,
  code: [32m'WORK-TEST-1767000408028'[39m,
  isGlobal: [33mfalse[39m
}

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating materials cache...

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mDELETE /api/contracts/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС
[22m[39m2025-12-29T09:26:48.832Z - DELETE /api/contracts/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:26:48.832Z - POST /api/materials

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я admin
[22m[39m2025-12-29T09:26:48.835Z - GET /api/users

[90mstdout[2m | tests/integration/api/contracts.api.test.js[2m > [22m[2mContracts API Integration Tests[2m > [22m[2mDELETE /api/contracts/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /contracts/00000000-0000-0000-0000-000000000000 contracts-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 contracts-test@test.com

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated POST /materials materials-test@test.com
╤В╨м╨Х Auth: User authenticated POST / materials-test@test.com
╤В╨м╨Х Permission granted via hierarchy: materials.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ references.create) for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:48.842Z - POST /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPOST /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /materials

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я admin
[22m[39m╤В╨м╨Х Auth: User authenticated GET /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET / users-admin@test.com

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[22m[39m2025-12-29T09:26:48.848Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'0b5af234-4aec-4b27-90e5-c5835cc311d5'[39m,
  userId: [32m'57e582fe-e4de-45b9-9213-3fc3a17b537a'[39m,
  search: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  search: [90mundefined[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m3[39m
}

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я admin
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.read) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХд╨У
[22m[39m2025-12-29T09:26:48.932Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХд╨У
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET / projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

stderr | tests/integration/api/purchases.api.test.js > Purchases API Integration Tests > GET /api/purchases/estimate/:estimateId > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы
[PURCHASES] тХи╨отХд╨ШтХитХХтХитЦТтХитХСтХитЦС тХитФРтХд╨РтХитХХ тХитФРтХитХЫтХитХЧтХд╨УтХд╨ЧтХитХбтХитХЬтХитХХтХитХХ тХитХЦтХитЦСтХитХСтХд╨УтХитФРтХитХЫтХитХС: error: invalid input syntax for type uuid: "99999999"
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg\lib\client.js:545:17
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Module.getPurchasesByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\repositories\purchasesRepository.js:210:20)
    at getPurchasesByEstimate (C:\Users\Admin\Desktop\smetalab v3\server\controllers\purchasesController.js:108:23) {
  length: 140,
  severity: 'ERROR',
  code: '22P02',
  detail: undefined,
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: "unnamed portal parameter $2 = '...'",
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'uuid.c',
  line: '174',
  routine: 'string_to_uuid'
}

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:48.981Z - POST /api/purchases/generate

[90mstdout[2m | tests/integration/api/purchases.api.test.js[2m > [22m[2mPurchases API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for POST /purchases/generate : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:49.163Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХитФРтХитХЫ id
[22m[39m2025-12-29T09:26:49.167Z - GET /api/projects/1b0beb27-556e-43c2-ba31-7190197331be

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХитФРтХитХЫ id
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating works cache...

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m2025-12-29T09:26:49.460Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:49.462Z - GET /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:49.462Z - GET /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /users

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:26:49.464Z - POST /api/works

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:49.467Z - GET /api/users

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated POST /works works-test@test.com
╤В╨м╨Х Auth: User authenticated POST / works-test@test.com
╤В╨м╨Х Permission granted via hierarchy: works.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ references.create) for user fd6764b5-32b8-4684-afa7-5297f9873de9

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for GET /users : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:49.473Z - POST /api/works

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPOST /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for POST /works

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:49.476Z - POST /api/users

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т
[22m[39m2025-12-29T09:26:49.479Z - GET /api/works

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m,
  userId: [32m'fd6764b5-32b8-4684-afa7-5297f9873de9'[39m,
  search: [90mundefined[39m,
  category: [90mundefined[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1)\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $2 OFFSET $3\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т
[22m[39m2025-12-29T09:26:49.560Z - PUT /api/projects/1b0beb27-556e-43c2-ba31-7190197331be

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /projects/1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Permission granted: projects.update for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.create) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m╨Б╨п╨д╨а Login roles-superadmin@rolestest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:49.904Z - PUT /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPUT /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Permission granted: projects.update for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨С тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:50.048Z - PATCH /api/projects/1b0beb27-556e-43c2-ba31-7190197331be/status

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨С тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated PATCH /projects/1b0beb27-556e-43c2-ba31-7190197331be/status projects-test@test.com
╤В╨м╨Х Auth: User authenticated PATCH /1b0beb27-556e-43c2-ba31-7190197331be/status projects-test@test.com
╤В╨м╨Х Permission granted: projects.update for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т
[22m[39m[WORKS PERFORMANCE] Query: 639ms, Rows: 50, Total: 3372
[WORKS PERFORMANCE] Transform: 0ms, Total: 639ms

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m2025-12-29T09:26:50.127Z - GET /api/works

[90mstdout[2m | tests/integration/api/roles.api.test.js[2m > [22m[2mRoles API - Super Admin Bug Fix (21.11.2025)
[22m[39m2025-12-29T09:26:50.131Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m,
  userId: [32m'fd6764b5-32b8-4684-afa7-5297f9873de9'[39m,
  search: [32m'тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХитЦСтХд╨Я'[39m,
  category: [90mundefined[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1) AND (code ILIKE $2 OR name ILIKE $2)\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $3 OFFSET $4\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m, [32m'%тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХитЦСтХд╨Я%'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХитЦС
[22m[39m2025-12-29T09:26:50.335Z - PATCH /api/projects/1b0beb27-556e-43c2-ba31-7190197331be/status

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mPATCH /api/projects/:id/status[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated PATCH /projects/1b0beb27-556e-43c2-ba31-7190197331be/status projects-test@test.com
╤В╨м╨Х Auth: User authenticated PATCH /1b0beb27-556e-43c2-ba31-7190197331be/status projects-test@test.com
╤В╨м╨Х Permission granted: projects.update for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ
[22m[39m2025-12-29T09:26:50.341Z - GET /api/projects/stats

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/stats projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /stats projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m[WORKS PERFORMANCE] Query: 307ms, Rows: 1, Total: 1
[WORKS PERFORMANCE] Transform: 0ms, Total: 307ms

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:50.443Z - GET /api/projects/dashboard-summary

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ email тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:26:50.443Z - POST /api/users

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m2025-12-29T09:26:50.444Z - GET /api/works

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/dashboard-summary projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /dashboard-summary projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works works-test@test.com
[WORKS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m,
  userId: [32m'fd6764b5-32b8-4684-afa7-5297f9873de9'[39m,
  search: [90mundefined[39m,
  category: [32m'тХи╨отХд╨ТтХитФдтХитХбтХитХЧтХитХСтХитЦС'[39m,
  pageSize: [33m50[39m
}
[WORKS QUERY] {
  query: [32m'WITH data_cte AS (\n'[39m +
    [32m'        SELECT \n'[39m +
    [32m'          id, code, name, unit, base_price, \n'[39m +
    [32m'          phase, section, subsection, is_global,\n'[39m +
    [32m'          created_at, updated_at,\n'[39m +
    [32m'          COUNT(*) OVER() as total_count\n'[39m +
    [32m'        FROM works\n'[39m +
    [32m'        WHERE (is_global = TRUE OR tenant_id = $1) AND category = $2\n'[39m +
    [32m'        ORDER BY is_global DESC, code ASC\n'[39m +
    [32m'        LIMIT $3 OFFSET $4\n'[39m +
    [32m'      )\n'[39m +
    [32m'      SELECT * FROM data_cte;'[39m,
  params: [ [32m'ee8c9df3-6a34-4ac9-b267-f3903bd07c82'[39m, [32m'тХи╨отХд╨ТтХитФдтХитХбтХитХЧтХитХСтХитЦС'[39m, [33m50[39m, [33m0[39m ]
}

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ email тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ email тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.create) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m[WORKS PERFORMANCE] Query: 156ms, Rows: 0, Total: 0
[WORKS PERFORMANCE] Transform: 0ms, Total: 156ms

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У тХитФРтХитХЫ id
[22m[39m2025-12-29T09:26:50.609Z - GET /api/works/23

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У тХитФРтХитХЫ id
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works/23 works-test@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:50.801Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.create) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:51.028Z - GET /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works/99999999 works-test@test.com

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m2025-12-29T09:26:51.222Z - PUT /api/works/23

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /works/23 works-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /23 works-test@test.com
╤В╨м╨Х Permission granted: works.update for user fd6764b5-32b8-4684-afa7-5297f9873de9

stderr | tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Login error: Error: NO_TENANTS
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:564:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/409 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m2025-12-29T09:26:51.512Z - POST /api/users

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/409 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST / users-admin@test.com

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating works cache...

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:51.540Z - PUT /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mPUT /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /works/99999999 works-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /99999999 works-test@test.com
╤В╨м╨Х Permission granted: works.update for user fd6764b5-32b8-4684-afa7-5297f9873de9

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/409 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.create (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.create) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/categories[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг
[22m[39m2025-12-29T09:26:51.650Z - GET /api/works/categories

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/categories[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works/categories works-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХитФРтХитХЫ id
[22m[39m2025-12-29T09:26:51.938Z - GET /api/users/1a31a00e-614b-4689-9cad-f052c1812a23

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХитФРтХитХЫ id
[22m[39m╤В╨м╨Х Auth: User authenticated GET /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХитФРтХитХЫ id
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.read) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т
[22m[39m2025-12-29T09:26:52.038Z - GET /api/works/stats

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mGET /api/works/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated GET /works/stats works-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 46a4a44a-04a8-4599-9c2b-3104e0fa31c1

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС Company duplicate-1767000409641

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:52.516Z - GET /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted via hierarchy: users.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.read) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╨Б╨п╨г╨╖ [Auth] тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХХтХитХб тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС тХитЦУтХитХбтХд╨РтХитХХтХд╨ФтХитХХтХитХСтХитЦСтХд╨ЦтХитХХтХитХХ тХитФдтХитХЧтХд╨Я duplicate@authtest.local

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:52.839Z - PUT /api/users/1a31a00e-614b-4689-9cad-f052c1812a23

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╨Б╨п╨г╨╖ [Auth] тХи╨▓тХитХЫтХитХСтХитХбтХитХЬ тХд╨СтХитХЫтХд╨ХтХд╨РтХитЦСтХитХЬтХитХбтХитХЬ тХитЦУ тХи╨бтХи╨д, тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХд╨ЯтХитХбтХитХЭ email...
╨Б╨п╨г╨╖ [EmailService] тХи╨отХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХСтХитЦС email тХитХЬтХитЦС duplicate@authtest.local
╨Б╨п╨г╨╖ [EmailService] тХи╨▓тХитХбтХитХЭтХитЦС: тХи╨птХитХЫтХитФдтХд╨ТтХитЦУтХитХбтХд╨РтХитФдтХитХХтХд╨ТтХитХб тХитЦУтХитЦСтХд╨Ш email - Smeta Lab
╨Б╨п╨г╨╖ [EmailService] тХи╨отХд╨Т: Smeta Lab <noreply@smeta-lab.ru>

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.update for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m2025-12-29T09:26:53.044Z - DELETE /api/works/23

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /works/23 works-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /23 works-test@test.com
╤В╨м╨Х Permission granted: works.delete for user fd6764b5-32b8-4684-afa7-5297f9873de9

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х [EmailService] Email тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХитХбтХитХЬ: {
  id: [32m'e1b7fd05-383e-4928-bafb-19653eab1020'[39m,
  to: [32m'duplicate@authtest.local'[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m╤В╨м╨Х [Auth] тХи╨птХитХХтХд╨СтХд╨ЬтХитХЭтХитХЫ тХитФРтХитХЫтХитФдтХд╨ТтХитЦУтХитХбтХд╨РтХитХвтХитФдтХитХбтХитХЬтХитХХтХд╨Я тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХитХЫтХд╨ТтХитФРтХд╨РтХитЦСтХитЦУтХитХЧтХитХбтХитХЬтХитХЫ тХитХЬтХитЦС duplicate@authtest.local

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
[22m[39m2025-12-29T09:26:53.332Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:53.521Z - PUT /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated PUT /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPUT /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.update for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating works cache...

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m2025-12-29T09:26:53.608Z - DELETE /api/works/99999999

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mDELETE /api/works/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /works/99999999 works-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /99999999 works-test@test.com
╤В╨м╨Х Permission granted: works.delete for user fd6764b5-32b8-4684-afa7-5297f9873de9

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:53.731Z - POST /api/works

[90mstdout[2m | tests/integration/api/works.api.test.js[2m > [22m[2mWorks API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for POST /works : INVALID_TOKEN

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/register > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email
Registration error: Error: EMAIL_EXISTS
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:162:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at register (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:154:20)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХбтХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:53.803Z - PATCH /api/users/1a31a00e-614b-4689-9cad-f052c1812a23/deactivate

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХбтХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/deactivate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/deactivate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/deactivate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /1a31a00e-614b-4689-9cad-f052c1812a23/deactivate users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/deactivate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХбтХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.update for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m╨Б╨п╨г╨Ъ Dashboard summary loaded in 3661ms (single request vs 7 separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитХбтХд╨ТтХитЦС-тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХитЦУтХд╨РтХитХбтХитХЭтХитХбтХитХЬтХитХХ тХитХЦтХитЦСтХитФВтХд╨РтХд╨УтХитХЦтХитХСтХитХХ
[22m[39m2025-12-29T09:26:54.112Z - GET /api/projects/dashboard-summary

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитХбтХд╨ТтХитЦС-тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХитЦУтХд╨РтХитХбтХитХЭтХитХбтХитХЬтХитХХ тХитХЦтХитЦСтХитФВтХд╨РтХд╨УтХитХЦтХитХСтХитХХ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/dashboard-summary projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /dashboard-summary projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:54.358Z - PATCH /api/users/1a31a00e-614b-4689-9cad-f052c1812a23/activate

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/activate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/activate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /users/1a31a00e-614b-4689-9cad-f052c1812a23/activate users-admin@test.com
╤В╨м╨Х Auth: User authenticated PATCH /1a31a00e-614b-4689-9cad-f052c1812a23/activate users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPATCH /api/users/:id/activate[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.update for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/dashboard-summary[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитХбтХд╨ТтХитЦС-тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХитЦУтХд╨РтХитХбтХитХЭтХитХбтХитХЬтХитХХ тХитХЦтХитЦСтХитФВтХд╨РтХд╨УтХитХЦтХитХСтХитХХ
[22m[39m╨Б╨п╨г╨Ъ Dashboard summary loaded in 482ms (single request vs 7 separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m2025-12-29T09:26:54.601Z - POST /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m╤В╨м╨Х Auth: User authenticated POST /projects projects-test@test.com
╤В╨м╨Х Auth: User authenticated POST / projects-test@test.com
╤В╨м╨Х Permission granted: projects.create for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:54.720Z - GET /api/projects/177c3776-6717-44bc-9dab-48ca6d86f509/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/177c3776-6717-44bc-9dab-48ca6d86f509/full-dashboard projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /177c3776-6717-44bc-9dab-48ca6d86f509/full-dashboard projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m2025-12-29T09:26:54.737Z - GET /api/users/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /roles users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m╤В╨м╨Х Permission granted via hierarchy: roles.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.read) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m╨Б╨п╨д╨Э usersController.getAllRoles:
   User: users-admin@test.com
   User ID: 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4
   Tenant ID: 5d5a14a7-7b03-449f-8311-e44ee76d1168
   User Roles: [admin]
   Is Super Admin: NO ╤В╨н╨Ь

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m╤В╨м╨Х tenant admin тХитЦУтХитХХтХитФдтХитХХтХд╨Т 3 тХд╨РтХитХбтХитФдтХитЦСтХитХСтХд╨ТтХитХХтХд╨РтХд╨УтХитХбтХитХЭтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг (тХитЦТтХитХбтХитХЦ admin):
   - manager: тХи╨мтХитХбтХитХЬтХитХбтХитФдтХитХвтХитХбтХд╨Р (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)
   - estimator: тХи╨▒тХитХЭтХитХбтХд╨ТтХд╨ЧтХитХХтХитХС (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)
   - worker: тХи╨░тХитЦСтХитЦТтХитХЫтХд╨ТтХитХЬтХитХХтХитХС (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m2025-12-29T09:26:55.018Z - POST /api/users/1a31a00e-614b-4689-9cad-f052c1812a23/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mPOST /api/users/:id/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
[22m[39m╤В╨м╨Х Auth: User authenticated POST /users/1a31a00e-614b-4689-9cad-f052c1812a23/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users/1a31a00e-614b-4689-9cad-f052c1812a23/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /users/1a31a00e-614b-4689-9cad-f052c1812a23/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated POST /1a31a00e-614b-4689-9cad-f052c1812a23/roles users-admin@test.com

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ
[22m[39m╨Б╨п╨г╨Ъ Project full-dashboard loaded in 394ms (single request vs 4+ separate)

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:55.115Z - GET /api/projects/00000000-0000-0000-0000-000000000000/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /projects/00000000-0000-0000-0000-000000000000/full-dashboard projects-test@test.com
╤В╨м╨Х Auth: User authenticated GET /00000000-0000-0000-0000-000000000000/full-dashboard projects-test@test.com
╤В╨м╨Х Permission granted: projects.read for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

stderr | tests/integration/api/users.api.test.js > Users API Integration Tests > POST /api/users/:id/roles > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю
╤В╨л╨д Permission denied: roles.assign for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг
[22m[39m2025-12-29T09:26:55.135Z - GET /api/users/roles

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг
[22m[39m╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /users/roles users-admin@test.com
╤В╨м╨Х Auth: User authenticated GET /roles users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг
[22m[39m╤В╨м╨Х Permission granted via hierarchy: roles.read (тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ admin.read) for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:26:55.263Z - GET /api/projects/177c3776-6717-44bc-9dab-48ca6d86f509/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /projects/177c3776-6717-44bc-9dab-48ca6d86f509/full-dashboard

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m2025-12-29T09:26:55.267Z - DELETE /api/projects/177c3776-6717-44bc-9dab-48ca6d86f509

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mGET /api/projects/:id/full-dashboard
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /projects/177c3776-6717-44bc-9dab-48ca6d86f509 projects-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /177c3776-6717-44bc-9dab-48ca6d86f509 projects-test@test.com
╤В╨м╨Х Permission granted: projects.delete for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг
[22m[39m╨Б╨п╨д╨Э usersController.getAllRoles:
   User: users-admin@test.com
   User ID: 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4
   Tenant ID: 5d5a14a7-7b03-449f-8311-e44ee76d1168
   User Roles: [admin]
   Is Super Admin: NO ╤В╨н╨Ь

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/register[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т тХитХЫтХитЦТтХд╨ЯтХитХЦтХитЦСтХд╨ТтХитХбтХитХЧтХд╨ЬтХитХЬтХитХЫтХитХб тХитФРтХитХЫтХитХЧтХитХб
[22m[39m2025-12-29T09:26:55.438Z - POST /api/auth/register

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т
[22m[39m2025-12-29T09:26:55.516Z - DELETE /api/projects/1b0beb27-556e-43c2-ba31-7190197331be

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /projects/1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /1b0beb27-556e-43c2-ba31-7190197331be projects-test@test.com
╤В╨м╨Х Permission granted: projects.delete for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mGET /api/users/roles[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг
[22m[39m╤В╨м╨Х tenant admin тХитЦУтХитХХтХитФдтХитХХтХд╨Т 3 тХд╨РтХитХбтХитФдтХитЦСтХитХСтХд╨ТтХитХХтХд╨РтХд╨УтХитХбтХитХЭтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг (тХитЦТтХитХбтХитХЦ admin):
   - manager: тХи╨мтХитХбтХитХЬтХитХбтХитФдтХитХвтХитХбтХд╨Р (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)
   - estimator: тХи╨▒тХитХЭтХитХбтХд╨ТтХд╨ЧтХитХХтХитХС (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)
   - worker: тХи╨░тХитЦСтХитЦТтХитХЫтХд╨ТтХитХЬтХитХХтХитХС (tenant_id: 5d5a14a7-7b03-449f-8311-e44ee76d1168)

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:55.613Z - DELETE /api/users/1a31a00e-614b-4689-9cad-f052c1812a23

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /users/1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /1a31a00e-614b-4689-9cad-f052c1812a23 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.delete for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:26:55.738Z - DELETE /api/projects/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mDELETE /api/projects/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /projects/00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 projects-test@test.com
╤В╨м╨Х Permission granted: projects.delete for user 4d6c85d0-de6b-4ddb-a3a5-4fb92c597929

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:26:55.837Z - GET /api/projects

[90mstdout[2m | tests/integration/api/projects.api.test.js[2m > [22m[2mProjects API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for GET /projects : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:26:56.908Z - DELETE /api/users/00000000-0000-0000-0000-000000000000

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /users/00000000-0000-0000-0000-000000000000 users-admin@test.com
╤В╨м╨Х Auth: User authenticated DELETE /00000000-0000-0000-0000-000000000000 users-admin@test.com

[90mstdout[2m | tests/integration/api/users.api.test.js[2m > [22m[2mUsers API Integration Tests[2m > [22m[2mDELETE /api/users/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Permission granted: users.delete for user 41dfe1d6-9644-4b83-b4e2-c7bbe62756e4

 [31m╤В╨н╨┐[39m tests/integration/api/estimates.api.test.js [2m([22m[2m17 tests[22m[2m)[22m[33m 18057[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨СтХитХЭтХитХбтХд╨ТтХд╨У[32m 1[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPOST /api/projects/:projectId/estimates[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 8[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/projects/:projectId/estimates[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨СтХитХЭтХитХбтХд╨Т тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/projects/:projectId/estimates[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 7[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитХЭтХитХбтХд╨ТтХд╨У тХитФРтХитХЫ id[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 184[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id/full[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPUT /api/estimates/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨СтХитХЭтХитХбтХд╨ТтХд╨У[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPOST /api/estimates/:estimateId/items[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХЫтХитЦТтХитЦСтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЦтХитХХтХд╨ЦтХитХХтХд╨Ю тХитЦУ тХд╨СтХитХЭтХитХбтХд╨ТтХд╨У[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPOST /api/estimates/:estimateId/items[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХд╨Х[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:estimateId/items[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХитХЫтХитХЦтХитХХтХд╨ЦтХитХХтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mPUT /api/estimates/items/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЦтХитХХтХд╨ЦтХитХХтХд╨Ю тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mGET /api/estimates/:id/statistics[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/items/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЦтХитХХтХд╨ЦтХитХХтХд╨Ю[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХд╨СтХитХЭтХитХбтХд╨ТтХд╨У[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Estimates API Integration Tests[2m > [22mDELETE /api/estimates/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 168[2mms[22m[39m
 [31m╤В╨н╨┐[39m tests/integration/api/schedules.api.test.js [2m([22m[2m7 tests[22m[2m)[22m[33m 18266[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитФВтХитХбтХитХЬтХитХбтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХС тХитХХтХитХЦ тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 1[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId[32m 9[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mPOST /api/schedules/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 5[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mGET /api/schedules/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХС тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mGET /api/schedules/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨УтХд╨СтХд╨ТтХитХЫтХитХг тХитХЫтХд╨ТтХитЦУтХитХбтХд╨Т тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы тХитЦТтХитХбтХитХЦ тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХСтХитЦС[32m 268[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mDELETE /api/schedules/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФВтХд╨РтХитЦСтХд╨ФтХитХХтХитХС тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Schedules API Integration Tests[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ[32m 6[2mms[22m[39m
 [31m╤В╨н╨┐[39m tests/integration/api/purchases.api.test.js [2m([22m[2m8 tests[22m[2m)[22m[33m 18934[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитФВтХитХбтХитХЬтХитХбтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЦтХитЦСтХитХСтХд╨УтХитФРтХитХСтХитХХ тХитХХтХитХЦ тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 1[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId[32m 8[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 5[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mGET /api/purchases/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЦтХитЦСтХитХСтХд╨УтХитФРтХитХСтХитХХ тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Purchases API Integration Tests[2m > [22mGET /api/purchases/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы [33m 711[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mPOST /api/purchases/extra-charge[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХЫтХитЦТтХитЦСтХитЦУтХитХХтХд╨ТтХд╨Ь тХитХЬтХитЦСтХд╨ЦтХитХбтХитХЬтХитХСтХд╨У тХитХС тХитХЦтХитЦСтХитХСтХд╨УтХитФРтХитХСтХитЦСтХитХЭ[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mDELETE /api/purchases/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитХЦтХитЦСтХитХСтХд╨УтХитФРтХитХСтХитХХ тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Purchases API Integration Tests[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ[32m 6[2mms[22m[39m
 [31m╤В╨н╨┐[39m tests/integration/api/contracts.api.test.js [2m([22m[2m12 tests[22m[2m)[22m[33m 18961[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитФВтХитХбтХитХЬтХитХбтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨Р тХитХХтХитХЦ тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 2[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитЦТтХитХбтХитХЦ estimateId[32m 11[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mPOST /api/contracts/generate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 5[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/estimate/:estimateId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨Р тХитФдтХитХЧтХд╨Я тХд╨СтХитХЭтХитХбтХд╨ТтХд╨Ы[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/project/:projectId[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХд╨Ы тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨Р тХитФРтХитХЫ id[32m 0[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС [33m 767[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mPUT /api/contracts/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨Р[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mPATCH /api/contracts/:id/status[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨С тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mGET /api/contracts/:id/docx[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь DOCX тХд╨ФтХитЦСтХитХгтХитХЧ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mDELETE /api/contracts/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨Р[32m 0[2mms[22m[39m
   [32m╤В╨м╨г[39m Contracts API Integration Tests[2m > [22mDELETE /api/contracts/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФдтХитХЫтХитФВтХитХЫтХитЦУтХитХЫтХд╨РтХитЦС[32m 189[2mms[22m[39m
 [31m╤В╨н╨┐[39m tests/integration/api/roles.api.test.js [2m([22m[2m8 tests[22m[2m | [22m[33m8 skipped[39m[2m)[22m[33m 20036[2mms[22m[39m
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin тХд╨С тХитХЬтХитХбтХд╨СтХитХСтХитХЫтХитХЧтХд╨ЬтХитХСтХитХХтХитХЭтХитХХ тХд╨РтХитХЫтХитХЧтХд╨ЯтХитХЭтХитХХ)[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХи╨▓тХи╨отХи╨лтХи╨╝тХи╨ктХи╨о global roles тХитФдтХитХЧтХд╨Я super_admin
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin тХд╨С тХитХЬтХитХбтХд╨СтХитХСтХитХЫтХитХЧтХд╨ЬтХитХСтХитХХтХитХЭтХитХХ тХд╨РтХитХЫтХитХЧтХд╨ЯтХитХЭтХитХХ)[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХд╨РтХитЦСтХитЦУтХитХХтХитХЧтХд╨ЬтХитХЬтХитХЫ тХитХЫтХитФРтХд╨РтХитХбтХитФдтХитХбтХитХЧтХитХХтХд╨ТтХд╨Ь isSuperAdmin тХд╨ЧтХитХбтХд╨РтХитХбтХитХЦ тХи╨втХи╨▒тХи╨е тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mREGRESSION TEST: GET /api/roles (super_admin тХд╨С тХитХЬтХитХбтХд╨СтХитХСтХитХЫтХитХЧтХд╨ЬтХитХСтХитХХтХитХЭтХитХХ тХд╨РтХитХЫтХитХЧтХд╨ЯтХитХЭтХитХХ)[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЧтХитХЫтХитФВтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХСтХитХЫтХд╨РтХд╨РтХитХбтХитХСтХд╨ТтХитХЬтХд╨УтХд╨Ю тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ super_admin
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mGET /api/roles (tenant admin)[2m > [22mtenant admin тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХХтХитФдтХитХбтХд╨ТтХд╨Ь тХд╨ТтХитХЫтХитХЧтХд╨ЬтХитХСтХитХЫ tenant roles тХд╨СтХитЦУтХитХЫтХитХбтХитФВтХитХЫ тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС (тХитХСтХд╨РтХитХЫтХитХЭтХитХб admin)
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mGET /api/permissions/roles/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХитХЬтХд╨УтХд╨Ю тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨РтХитХЫтХитХЧтХитХХ тХд╨С тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
   [2m[90m╤В╨Ц╨г[39m[22m Roles API - Super Admin Bug Fix (21.11.2025)[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитХЫтХитХЧтХитХХ
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХд╨Ы тХитФдтХитХЧтХд╨Я тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х credentials
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХд╨Ы тХитФдтХитХЧтХд╨Я тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х credentials
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС ea34cb35-1936-4edc-af18-f41e04db9ce3

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХд╨Ы тХитФдтХитХЧтХд╨Я тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х credentials
[22m[39m2025-12-29T09:27:01.112Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХд╨Ы тХитФдтХитХЧтХд╨Я тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х credentials
[22m[39m╨Б╨п╨д╨а Login login@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

 [31m╤В╨н╨┐[39m tests/integration/api/works.api.test.js [2m([22m[2m15 tests[22m[2m)[22m[33m 23686[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨УтХд╨Ю тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У [33m 1433[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ name тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т[32m 9[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mPOST /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 6[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т [33m 649[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС [33m 316[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mGET /api/works[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ[32m 167[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mGET /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У тХитФРтХитХЫ id [33m 419[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mGET /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы[32m 194[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mPUT /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У [33m 317[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mPUT /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы[32m 111[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mGET /api/works/categories[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг [33m 388[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mGET /api/works/stats[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХд╨РтХитЦСтХитЦТтХитХЫтХд╨Т [33m 1006[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Works API Integration Tests[2m > [22mDELETE /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨У [33m 564[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mDELETE /api/works/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитХг тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХд╨Ы[32m 123[2mms[22m[39m
   [32m╤В╨м╨г[39m Works API Integration Tests[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ[32m 4[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитХбтХд╨РтХитХЬтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

 [31m╤В╨н╨┐[39m tests/integration/api/projects.api.test.js [2m([22m[2m22 tests[22m[2m)[22m[33m 25797[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ[32m 153[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ objectName тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т[32m 9[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPOST /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 5[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ [33m 552[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитЦСтХитФВтХитХХтХитХЬтХитЦСтХд╨ЦтХитХХтХд╨Ю[32m 226[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХд╨У[32m 230[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 4[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т тХитФРтХитХЫ id[32m 294[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 98[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Projects API Integration Tests[2m > [22mPUT /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т [33m 344[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPUT /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 139[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPATCH /api/projects/:id/status[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨С тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 292[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mPATCH /api/projects/:id/status[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ тХд╨СтХд╨ТтХитЦСтХд╨ТтХд╨УтХд╨СтХитЦС[32m 6[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects/stats[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитХЫтХитЦУ[32m 101[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/dashboard-summary[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ [33m 3670[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/dashboard-summary[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитХбтХд╨ТтХитЦС-тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХитЦУтХд╨РтХитХбтХитХЭтХитХбтХитХЬтХитХХ тХитХЦтХитЦСтХитФВтХд╨РтХд╨УтХитХЦтХитХСтХитХХ [33m 488[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитЦУтХд╨СтХитХб тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХитЦСтХд╨ШтХитЦТтХитХЫтХд╨РтХитФдтХитЦС тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС тХитХЫтХитФдтХитХЬтХитХХтХитХЭ тХитХЦтХитЦСтХитФРтХд╨РтХитХЫтХд╨СтХитХЫтХитХЭ [33m 395[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 149[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mGET /api/projects/:id/full-dashboard[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 3[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mDELETE /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨Т[32m 223[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mDELETE /api/projects/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитХХтХитХЧтХитХХ 500 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХд╨РтХитХЫтХитХбтХитХСтХд╨ТтХитЦС[32m 98[2mms[22m[39m
   [32m╤В╨м╨г[39m Projects API Integration Tests[2m > [22mEdge Cases[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ[32m 4[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитХбтХд╨РтХитХЬтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС e492d703-f650-4f83-85c8-91ba01416982

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитХбтХд╨РтХитХЬтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
[22m[39m2025-12-29T09:27:06.644Z - POST /api/auth/login

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/login > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитХбтХд╨РтХитХЬтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я
Login error: Error: INVALID_PASSWORD
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:533:15
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

 [31m╤В╨н╨┐[39m tests/integration/api/users.api.test.js [2m([22m[2m17 tests[22m[2m)[22m[33m 27246[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я admin [33m 629[2mms[22m[39m
   [32m╤В╨м╨г[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС[32m 5[2mms[22m[39m
   [32m╤В╨м╨г[39m Users API Integration Tests[2m > [22mGET /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ[32m 8[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 967[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ email тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т [33m 359[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я [33m 711[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPOST /api/users[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400/409 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email [33m 424[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mGET /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХитФРтХитХЫ id [33m 579[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mGET /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 322[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPUT /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 682[2mms[22m[39m
   [32m╤В╨м╨г[39m Users API Integration Tests[2m > [22mPUT /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я[32m 283[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPATCH /api/users/:id/deactivate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФдтХитХбтХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 554[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPATCH /api/users/:id/activate[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦСтХитХСтХд╨ТтХитХХтХитЦУтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 380[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mPOST /api/users/:id/roles[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЬтХитЦСтХитХЦтХитХЬтХитЦСтХд╨ЧтХитХХтХд╨ТтХд╨Ь тХд╨РтХитХЫтХитХЧтХитХХ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Ю [33m 397[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mGET /api/users/roles[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХд╨РтХитХЫтХитХЧтХитХбтХитХг [33m 478[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mDELETE /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 1293[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Users API Integration Tests[2m > [22mDELETE /api/users/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 393[2mms[22m[39m
stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[MATERIALS SLOW QUERY] 19787ms - checking query plan...

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС cc35b11e-c46f-4f70-b9e2-eb3eebb943c1

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:27:09.505Z - POST /api/auth/login

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/login > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
Login error: Error: USER_NOT_FOUND
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:520:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at login (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:510:20)

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email тХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email тХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ТтХитЦС
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 21ea9e70-39a6-48f4-a0ec-1e8c7c42b5ee

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email тХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ТтХитЦС
[22m[39m2025-12-29T09:27:13.308Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[22m[39m[MATERIALS QUERY PLAN]
Limit  (cost=16948.93..16949.06 rows=50 width=330) (actual time=5301.887..5301.895 rows=50.00 loops=1)
  Buffers: shared hit=5814 read=8332, temp read=3616 written=1907
  ->  Sort  (cost=16948.93..17066.36 rows=46971 width=330) (actual time=5301.885..5301.889 rows=50.00 loops=1)
        Sort Key: is_global DESC, sku_number
        Sort Method: top-N heapsort  Memory: 68kB
        Buffers: shared hit=5814 read=8332, temp read=3616 written=1907
        ->  WindowAgg  (cost=15388.26..15388.59 rows=46971 width=330) (actual time=4508.346..4808.178 rows=46977.00 loops=1)
              Window: w1 AS ()
              Storage: Disk  Maximum Storage: 15250kB
              Buffers: shared hit=5814 read=8332, temp read=3616 written=1907
              ->  Seq Scan on materials  (cost=0.00..14801.45 rows=46971 width=322) (actual time=103.356..3008.920 rows=46977.00 loops=1)
                    Filter: (is_global OR (tenant_id = '0b5af234-4aec-4b27-90e5-c5835cc311d5'::uuid))
                    Rows Removed by Filter: 20
                    Buffers: shared hit=5814 read=8332
Planning Time: 0.266 ms
Execution Time: 5302.117 ms
[MATERIALS PERFORMANCE] Query: 19787ms, Rows: 50, Total: 46977
[MATERIALS PERFORMANCE] Transform: 0ms, Total: 19787ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m2025-12-29T09:27:14.148Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'0b5af234-4aec-4b27-90e5-c5835cc311d5'[39m,
  userId: [32m'57e582fe-e4de-45b9-9213-3fc3a17b537a'[39m,
  search: [32m'тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг'[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [90mundefined[39m,
  supplier: [90mundefined[39m,
  search: [32m'тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг'[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m8[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХХтХд╨ТтХд╨Ь permissions тХитХХ roles тХитЦУ JWT payload
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХХтХд╨ТтХд╨Ь permissions тХитХХ roles тХитЦУ JWT payload
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 8b5ad5c1-f8f6-4461-8a25-ac97d256333c

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[MATERIALS SLOW QUERY] 637ms - checking query plan...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС
[22m[39m[MATERIALS QUERY PLAN]
Limit  (cost=1573.66..1573.70 rows=19 width=334) (actual time=202.321..202.326 rows=1.00 loops=1)
  Buffers: shared hit=1234
  ->  Sort  (cost=1573.66..1573.70 rows=19 width=334) (actual time=202.286..202.290 rows=1.00 loops=1)
        Sort Key: (CASE WHEN (lower((sku)::text) = 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг'::text) THEN 1 WHEN (lower((name)::text) = 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг'::text) THEN 2 WHEN (lower((name)::text) ~~ 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text) THEN 3 ELSE 4 END), is_global DESC, sku_number
        Sort Method: quicksort  Memory: 25kB
        Buffers: shared hit=1234
        ->  WindowAgg  (cost=1571.83..1573.25 rows=19 width=334) (actual time=202.277..202.281 rows=1.00 loops=1)
              Window: w1 AS ()
              Storage: Memory  Maximum Storage: 17kB
              Buffers: shared hit=1234
              ->  Bitmap Heap Scan on materials  (cost=1551.28..1572.73 rows=19 width=322) (actual time=202.115..202.122 rows=1.00 loops=1)
                    Recheck Cond: ((lower((name)::text) ~~ 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text) OR (lower((sku)::text) ~~ 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text) OR (lower((name)::text) ~~ '%тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text) OR (lower((sku)::text) ~~ '%тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text))
                    Filter: (is_global OR (tenant_id = '0b5af234-4aec-4b27-90e5-c5835cc311d5'::uuid))
                    Rows Removed by Filter: 1
                    Heap Blocks: exact=2
                    Buffers: shared hit=1234
                    ->  BitmapOr  (cost=1551.28..1551.28 rows=19 width=0) (actual time=202.076..202.079 rows=0.00 loops=1)
                          Buffers: shared hit=1232
                          ->  Bitmap Index Scan on idx_materials_name_trgm  (cost=0.00..618.18 rows=5 width=0) (actual time=103.356..103.357 rows=2.00 loops=1)
                                Index Cond: (lower((name)::text) ~~ 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text)
                                Index Searches: 1
                                Buffers: shared hit=516
                          ->  Bitmap Index Scan on idx_materials_sku_trgm  (cost=0.00..165.81 rows=5 width=0) (actual time=3.506..3.506 rows=0.00 loops=1)
                                Index Cond: (lower((sku)::text) ~~ 'тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text)
                                Index Searches: 1
                                Buffers: shared hit=120
                          ->  Bitmap Index Scan on idx_materials_name_trgm  (cost=0.00..608.46 rows=5 width=0) (actual time=5.096..5.096 rows=2.00 loops=1)
                                Index Cond: (lower((name)::text) ~~ '%тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text)
                                Index Searches: 1
                                Buffers: shared hit=480
                          ->  Bitmap Index Scan on idx_materials_sku_trgm  (cost=0.00..158.82 rows=5 width=0) (actual time=90.115..90.115 rows=0.00 loops=1)
                                Index Cond: (lower((sku)::text) ~~ '%тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХитХг%'::text)
                                Index Searches: 1
                                Buffers: shared hit=116
Planning:
  Buffers: shared hit=4
Planning Time: 0.443 ms
Execution Time: 202.401 ms
[MATERIALS PERFORMANCE] Query: 637ms, Rows: 1, Total: 1
[MATERIALS PERFORMANCE] Transform: 0ms, Total: 637ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m2025-12-29T09:27:15.145Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials materials-test@test.com
[MATERIALS DEBUG] {
  isGlobal: [90mundefined[39m,
  hasUser: [33mtrue[39m,
  tenantId: [32m'0b5af234-4aec-4b27-90e5-c5835cc311d5'[39m,
  userId: [32m'57e582fe-e4de-45b9-9213-3fc3a17b537a'[39m,
  search: [90mundefined[39m,
  category: [32m'тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХитЦСтХд╨Я тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХд╨Я'[39m,
  supplier: [90mundefined[39m,
  pageSize: [33m50[39m
}
[MATERIALS QUERY] {
  isGlobal: [90mundefined[39m,
  category: [32m'тХи╨▓тХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХитЦСтХд╨Я тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХд╨Я'[39m,
  supplier: [90mundefined[39m,
  search: [90mundefined[39m,
  pageSize: [33m50[39m,
  paramsCount: [33m4[39m
}

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХХтХд╨ТтХд╨Ь permissions тХитХХ roles тХитЦУ JWT payload
[22m[39m2025-12-29T09:27:15.196Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХд╨ФтХитХХтХитХЧтХд╨ЬтХд╨ТтХд╨РтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитФРтХитХЫ тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХХ
[22m[39m[MATERIALS PERFORMANCE] Query: 79ms, Rows: 1, Total: 1
[MATERIALS PERFORMANCE] Transform: 0ms, Total: 79ms

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХитЦСтХд╨ТтХд╨Ь тХитЦТтХитХбтХитХЦ тХитЦСтХитЦУтХд╨ТтХитХЫтХд╨РтХитХХтХитХЦтХитЦСтХд╨ЦтХитХХтХитХХ (optionalAuth)
[22m[39m2025-12-29T09:27:15.231Z - GET /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨РтХитЦСтХитЦТтХитХЫтХд╨ТтХитЦСтХд╨ТтХд╨Ь тХитЦТтХитХбтХитХЦ тХитЦСтХитЦУтХд╨ТтХитХЫтХд╨РтХитХХтХитХЦтХитЦСтХд╨ЦтХитХХтХитХХ (optionalAuth)
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ тХитФРтХитХЫ id
[22m[39m2025-12-29T09:27:15.237Z - GET /api/materials/38

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ тХитФРтХитХЫ id
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials/38 materials-test@test.com

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m2025-12-29T09:27:15.329Z - GET /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials/99999999 materials-test@test.com

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m2025-12-29T09:27:15.401Z - PUT /api/materials/38

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /materials/38 materials-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /38 materials-test@test.com
╤В╨м╨Х Permission granted: materials.update for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating materials cache...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m2025-12-29T09:27:15.543Z - PUT /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mPUT /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated PUT /materials/99999999 materials-test@test.com
╤В╨м╨Х Auth: User authenticated PUT /99999999 materials-test@test.com
╤В╨м╨Х Permission granted: materials.update for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/categories[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг
[22m[39m2025-12-29T09:27:15.605Z - GET /api/materials/categories

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/categories[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials/categories materials-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/login[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХХтХд╨ТтХд╨Ь permissions тХитХХ roles тХитЦУ JWT payload
[22m[39m╨Б╨п╨д╨а Login login@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[22m[39m2025-12-29T09:27:17.525Z - GET /api/materials/stats

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mGET /api/materials/stats[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
[22m[39m╤В╨м╨Х Auth: User authenticated GET /materials/stats materials-test@test.com

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС b1e0e0e1-4413-419d-b885-b6f7bd4c8b4e

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token
[22m[39m2025-12-29T09:27:18.638Z - POST /api/auth/login

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials/stats > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
Database query error (attempt 1/3): numeric field overflow

stderr | tests/integration/api/materials.api.test.js > Materials API Integration Tests > GET /api/materials/stats > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ
Error fetching materials stats: error: numeric field overflow
    at C:\Users\Admin\Desktop\smetalab v3\node_modules\pg-pool\index.js:45:11
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at Object.query (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:40:19)
    at getMaterialsStats (C:\Users\Admin\Desktop\smetalab v3\server\controllers\materialsController.js:1187:27) {
  length: 165,
  severity: 'ERROR',
  code: '22003',
  detail: 'A field with precision 10, scale 2 must round to an absolute value less than 10^8.',
  hint: undefined,
  position: undefined,
  internalPosition: undefined,
  internalQuery: undefined,
  where: undefined,
  schema: undefined,
  table: undefined,
  column: undefined,
  dataType: undefined,
  constraint: undefined,
  file: 'numeric.c',
  line: '8083',
  routine: 'apply_typmod'
}

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m2025-12-29T09:27:19.367Z - DELETE /api/materials/38

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /materials/38 materials-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /38 materials-test@test.com
╤В╨м╨Х Permission granted: materials.delete for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token
[22m[39m╨Б╨п╨д╨а Login refresh@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token
[22m[39m2025-12-29T09:27:19.823Z - POST /api/auth/refresh

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ
[22m[39m╨Б╨п╨з╨б╤ПтХХ╨Я Invalidating materials cache...

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m2025-12-29T09:27:20.593Z - DELETE /api/materials/99999999

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mDELETE /api/materials/:id[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 404 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитЦС
[22m[39m╤В╨м╨Х Auth: User authenticated DELETE /materials/99999999 materials-test@test.com
╤В╨м╨Х Auth: User authenticated DELETE /99999999 materials-test@test.com
╤В╨м╨Х Permission granted: materials.delete for user 57e582fe-e4de-45b9-9213-3fc3a17b537a

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:27:20.695Z - POST /api/materials

[90mstdout[2m | tests/integration/api/materials.api.test.js[2m > [22m[2mMaterials API Integration Tests[2m > [22m[2mEdge Cases[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for POST /materials : INVALID_TOKEN

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 8dfcab87-efc9-4f4f-8064-38931972716c

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
[22m[39m2025-12-29T09:27:22.497Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
[22m[39m╨Б╨п╨д╨а Login refresh@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
[22m[39m2025-12-29T09:27:23.799Z - POST /api/auth/refresh

stderr | tests/integration/api/auth.api.test.js > Auth API Integration Tests > POST /api/auth/refresh > тХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token
Refresh token error: Error: INVALID_REFRESH_TOKEN
    at C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:930:15
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at transaction (C:\Users\Admin\Desktop\smetalab v3\server\config\database.js:102:20)
    at refresh (C:\Users\Admin\Desktop\smetalab v3\server\controllers\authController.js:919:20)

 [32m╤В╨м╨г[39m tests/integration/api/materials.api.test.js [2m([22m[2m16 tests[22m[2m)[22m[33m 45528[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mPOST /api/materials[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХд╨ЫтХитХг тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ [33m 802[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ [33m 25288[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитФРтХитХЫтХитФдтХитФдтХитХбтХд╨РтХитХвтХитХХтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХХтХд╨СтХитХС [33m 1008[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials/categories[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХитФРтХитХХтХд╨СтХитХЫтХитХС тХитХСтХитЦСтХд╨ТтХитХбтХитФВтХитХЫтХд╨РтХитХХтХитХг [33m 1918[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mGET /api/materials/stats[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХд╨СтХд╨ТтХитЦСтХд╨ТтХитХХтХд╨СтХд╨ТтХитХХтХитХСтХд╨У тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧтХитХЫтХитЦУ [33m 1844[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Materials API Integration Tests[2m > [22mDELETE /api/materials/:id[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитХЭтХитЦСтХд╨ТтХитХбтХд╨РтХитХХтХитЦСтХитХЧ [33m 1225[2mms[22m[39m
[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС e2af9a3b-1150-45e6-836c-27a13a156bdd

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:27:26.621Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m╨Б╨п╨д╨а Login refresh@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/refresh[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т
[22m[39m2025-12-29T09:27:27.708Z - POST /api/auth/refresh

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 143f7902-fcc0-46c4-ab47-4fed2ca4c8f4

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:27:29.517Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m╨Б╨п╨д╨а Login logout@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я
[22m[39m2025-12-29T09:27:30.619Z - POST /api/auth/logout

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 848f3ad8-69f0-4592-ae68-e611c4f3d183

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:27:32.891Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╨Б╨п╨д╨а Login logout@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mPOST /api/auth/logout[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:27:33.796Z - POST /api/auth/logout

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 626e3273-c39d-4328-9385-eec006b1646a

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m2025-12-29T09:27:35.796Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m╨Б╨п╨д╨а Login me@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m2025-12-29T09:27:36.799Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб
[22m[39m╤В╨м╨Х Auth: User authenticated GET /me me@authtest.local

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 5cd7d734-46db-47b0-bccd-a4047d3eb42a

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:27:39.151Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╨Б╨п╨д╨а Login me@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m2025-12-29T09:27:39.961Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС
[22m[39m╤В╨н╨Ь Auth: No token provided for GET /me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╤В╨м╨Х Admin тХд╨РтХитХЫтХитХЧтХд╨Ь тХд╨СтХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитЦС тХд╨С 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХд╨ЯтХитХЭтХитХХ тХитХХтХитХЦ тХитФВтХитХЧтХитХЫтХитЦТтХитЦСтХитХЧтХд╨ЬтХитХЬтХитХЫтХитФВтХитХЫ тХд╨ШтХитЦСтХитЦТтХитХЧтХитХЫтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╤В╨м╨Х тХи╨▒тХитХЫтХитХЦтХитФдтХитЦСтХитХЬтХитХЫ 4 тХитЦТтХитЦСтХитХЦтХитХЫтХитЦУтХд╨ЫтХд╨Х тХд╨РтХитХЫтХитХЧтХитХбтХитХг тХитФдтХитХЧтХд╨Я тХд╨ТтХитХбтХитХЬтХитЦСтХитХЬтХд╨ТтХитЦС 75b243e0-c7ea-45fd-900c-82a344feec8f

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:27:41.901Z - POST /api/auth/login

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨а Login me@authtest.local: тХитХЬтХитЦСтХитХгтХитФдтХитХбтХитХЬтХитХЫ 23 тХд╨РтХитЦСтХитХЦтХд╨РтХитХбтХд╨ШтХитХбтХитХЬтХитХХтХитХг тХитФдтХитХЧтХд╨Я JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m2025-12-29T09:27:42.951Z - GET /api/auth/me

[90mstdout[2m | tests/integration/api/auth.api.test.js[2m > [22m[2mAuth API Integration Tests[2m > [22m[2mGET /api/auth/me[2m > [22m[2mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ
[22m[39m╨Б╨п╨д╨Э JWT verification error: JsonWebTokenError jwt malformed
╤В╨н╨Ь Auth error for GET /me : INVALID_TOKEN

 [32m╤В╨м╨г[39m tests/integration/api/auth.api.test.js [2m([22m[2m18 tests[22m[2m)[22m[33m 63437[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЦтХитЦСтХд╨РтХитХбтХитФВтХитХХтХд╨СтХд╨ТтХд╨РтХитХХтХд╨РтХитХЫтХитЦУтХитЦСтХд╨ТтХд╨Ь тХитХЬтХитХЫтХитЦУтХитХЫтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я тХд╨С тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭтХитХХ тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХЭтХитХХ [33m 5029[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email [33m 1284[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХд╨СтХитХЧтХитЦСтХитЦТтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я [33m 707[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитФдтХд╨УтХитЦТтХитХЧтХитХХтХд╨РтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫтХд╨СтХд╨Я email [33m 5000[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/register[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т тХитХЫтХитЦТтХд╨ЯтХитХЦтХитЦСтХд╨ТтХитХбтХитХЧтХд╨ЬтХитХЬтХитХЫтХитХб тХитФРтХитХЫтХитХЧтХитХб [33m 1705[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь JWT тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХд╨Ы тХитФдтХитХЧтХд╨Я тХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХд╨Х credentials [33m 7960[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитХбтХд╨РтХитХЬтХитХЫтХитФВтХитХЫ тХитФРтХитЦСтХд╨РтХитХЫтХитХЧтХд╨Я [33m 3794[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХд╨СтХд╨УтХд╨ЩтХитХбтХд╨СтХд╨ТтХитЦУтХд╨УтХд╨ЮтХд╨ЩтХитХбтХитФВтХитХЫ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 2701[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ email тХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ТтХитЦС [33m 3415[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/login[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХСтХитХЧтХд╨ЮтХд╨ЧтХитХХтХд╨ТтХд╨Ь permissions тХитХХ roles тХитЦУ JWT payload [33m 2789[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитХЫтХитЦТтХитХЬтХитХЫтХитЦУтХитХХтХд╨ТтХд╨Ь access token тХитФРтХитХЫ refresh token [33m 4422[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитФдтХитХЧтХд╨Я тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХитХЫтХитФВтХитХЫ refresh token [33m 3625[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/refresh[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 400 тХитХбтХд╨СтХитХЧтХитХХ refresh token тХитХЫтХд╨ТтХд╨СтХд╨УтХд╨ТтХд╨СтХд╨ТтХитЦУтХд╨УтХитХбтХд╨Т [33m 3564[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/logout[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХд╨УтХд╨СтХитФРтХитХбтХд╨ШтХитХЬтХитХЫ тХд╨РтХитЦСтХитХЦтХитХЧтХитХЫтХитФВтХитХХтХитХЬтХитХХтХд╨ТтХд╨Ь тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХд╨Я [33m 3224[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mPOST /api/auth/logout[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС [33m 2863[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь тХитХХтХитХЬтХд╨ФтХитХЫтХд╨РтХитХЭтХитЦСтХд╨ЦтХитХХтХд╨Ю тХитХЫ тХд╨ТтХитХбтХитХСтХд╨УтХд╨ЩтХитХбтХитХЭ тХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХитХЫтХитЦУтХитЦСтХд╨ТтХитХбтХитХЧтХитХб [33m 3641[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 401 тХитЦТтХитХбтХитХЦ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитЦС [33m 2526[2mms[22m[39m
   [33m[2m╤В╨м╨г[22m[39m Auth API Integration Tests[2m > [22mGET /api/auth/me[2m > [22mтХитФдтХитХЫтХитХЧтХитХвтХитХбтХитХЬ тХитЦУтХитХбтХд╨РтХитХЬтХд╨УтХд╨ТтХд╨Ь 403 тХд╨С тХитХЬтХитХбтХитЦУтХитЦСтХитХЧтХитХХтХитФдтХитХЬтХд╨ЫтХитХЭ тХд╨ТтХитХЫтХитХСтХитХбтХитХЬтХитХЫтХитХЭ [33m 2989[2mms[22m[39m

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐ Failed Suites 8 ╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐

 FAIL  tests/integration/api/contracts.api.test.js > Contracts API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/contracts.api.test.js:55:11
     53|   });
     54| 
     55|   afterAll(async () => {
       |           ^
     56|     try {
     57|       if (createdContractId) {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[1/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/estimates.api.test.js > Estimates API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/estimates.api.test.js:51:11
     49|   });
     50| 
     51|   afterAll(async () => {
       |           ^
     52|     // тХи╨отХд╨ЧтХитХХтХд╨СтХд╨ТтХитХСтХитЦС
     53|     try {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[2/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/projects.api.test.js > Projects API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/projects.api.test.js:38:11
     36|   });
     37| 
     38|   afterAll(async () => {
       |           ^
     39|     // тХи╨отХд╨ЧтХитХХтХд╨СтХд╨ТтХитХСтХитЦС тХд╨ТтХитХбтХд╨СтХд╨ТтХитХЫтХитЦУтХд╨ЫтХд╨Х тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХд╨Х
     40|     try {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[3/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/purchases.api.test.js > Purchases API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/purchases.api.test.js:54:11
     52|   });
     53| 
     54|   afterAll(async () => {
       |           ^
     55|     try {
     56|       if (createdEstimateId) {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[4/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/roles.api.test.js:29:12
     27|   let adminTenant;
     28| 
     29|   beforeAll(async () => {
       |            ^
     30|     // тХи╨нтХи╨е тХитЦУтХд╨ЫтХитХЦтХд╨ЫтХитЦУтХитЦСтХитХбтХитХЭ cleanupTestData тХд╨ЧтХд╨ТтХитХЫтХитЦТтХд╨Ы тХитХЬтХитХб тХд╨УтХитФдтХитЦСтХитХЧтХитХХтХд╨ТтХд╨Ь тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХитФдтХд╨РтХд╨УтХитФВтХитХХтХд╨Х тХд╨ТтХитХбтХд╨СтХд╨Т╤В╨Р╨╢
     31|     // тХи╨итХд╨СтХитФРтХитХЫтХитХЧтХд╨ЬтХитХЦтХд╨УтХитХбтХитХЭ тХд╨УтХитХЬтХитХХтХитХСтХитЦСтХитХЧтХд╨ЬтХитХЬтХд╨ЫтХитХг email domain тХитФдтХитХЧтХд╨Я тХитХХтХитХЦтХитХЫтХитХЧтХд╨ЯтХд╨ЦтХитХХтХитХХ

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[5/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/roles.api.test.js > Roles API - Super Admin Bug Fix (21.11.2025)
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/roles.api.test.js:87:11
     85|   });
     86| 
     87|   afterAll(async () => {
       |           ^
     88|     // тХи╨отХд╨ЧтХитХХтХд╨ЩтХитЦСтХитХбтХитХЭ тХд╨ТтХитХЫтХитХЧтХд╨ЬтХитХСтХитХЫ тХи╨нтХи╨атХи╨╕тХи╨и тХитФдтХитЦСтХитХЬтХитХЬтХд╨ЫтХитХб тХд╨С @rolestest.local
     89|     try {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[6/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/schedules.api.test.js > Schedules API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/schedules.api.test.js:54:11
     52|   });
     53| 
     54|   afterAll(async () => {
       |           ^
     55|     try {
     56|       if (createdEstimateId) {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[7/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/users.api.test.js > Users API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/users.api.test.js:38:11
     36|   });
     37| 
     38|   afterAll(async () => {
       |           ^
     39|     try {
     40|       if (createdUserId) {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[8/9]╤В╨Ю╨┐

 FAIL  tests/integration/api/works.api.test.js > Works API Integration Tests
Error: Hook timed out in 10000ms.
If this is a long-running hook, pass a timeout value as the last argument or configure it globally with "hookTimeout".
 ╤В╨н╨┐ tests/integration/api/works.api.test.js:36:11
     34|   });
     35| 
     36|   afterAll(async () => {
       |           ^
     37|     try {
     38|       if (createdWorkId) {

╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐╤В╨Ю╨┐[9/9]╤В╨Ю╨┐


[2m Test Files [22m [1m[31m8 failed[39m[22m[2m | [22m[1m[32m2 passed[39m[22m[90m (10)[39m
[2m      Tests [22m [1m[32m132 passed[39m[22m[2m | [22m[33m8 skipped[39m[90m (140)[39m
[2m   Start at [22m 12:18:14
[2m   Duration [22m 568.53s[2m (transform 906ms, setup 2.28s, collect 34.96s, tests 279.95s, environment 14.45s, prepare 2.28s)[22m

