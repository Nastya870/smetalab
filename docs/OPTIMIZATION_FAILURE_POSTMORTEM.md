# ‚ùå –û—Ç—á–µ—Ç –æ –Ω–µ—É–¥–∞—á–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

**–î–∞—Ç–∞**: 8 —è–Ω–≤–∞—Ä—è 2026, 21:12  
**–°—Ç–∞—Ç—É—Å**: ‚ùå –û–¢–ö–ê–ß–ï–ù–û

---

## üî¥ –ß—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ

–ü–æ–ø—ã—Ç–∫–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–º–µ—Ç **–ø—Ä–æ–≤–∞–ª–∏–ª–∞—Å—å**.

**–°–∏–º–ø—Ç–æ–º—ã**:
- –ó–∞–≥—Ä—É–∑–∫–∞ —Å–º–µ—Ç—ã –∑–∞–Ω–∏–º–∞–ª–∞ **~5 –º–∏–Ω—É—Ç** (–≤–º–µ—Å—Ç–æ –æ–∂–∏–¥–∞–µ–º—ã—Ö 300-500ms)
- –≠—Ç–æ **–≤ 60-100 —Ä–∞–∑ –º–µ–¥–ª–µ–Ω–Ω–µ–µ** —á–µ–º –¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –Ø–≤–Ω–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ–∏—á–µ—Å–∫–∏ –Ω–µ —Ç–∞–∫

---

## üîç –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã

### 1. –ü—Ä–æ–±–ª–µ–º–∞ —Å `WHERE ANY($1)` –≤ PostgreSQL

PostgreSQL –º–æ–∂–µ—Ç –ø–ª–æ—Ö–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å `ANY()` –µ—Å–ª–∏:
- –ù–µ—Ç –∏–Ω–¥–µ–∫—Å–∞ –Ω–∞ `estimate_item_id`
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –≤—ã–±—Ä–∞–ª –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–ª–∞–Ω –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –°–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –º–∞—Å—Å–∏–≤ ID (—Ö–æ—Ç—è –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ —ç—Ç–æ –≤—Ä—è–¥ –ª–∏)

### 2. –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –∏–ª–∏ deadlock

–í–æ–∑–º–æ–∂–Ω–æ –∫–æ–¥ –ø–æ–ø–∞–ª –≤:
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª –ø—Ä–∏ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–µ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤
- Deadlock –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –ë–î
- Memory leak –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

### 3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö

Map –æ–ø–µ—Ä–∞—Ü–∏–∏ –º–æ–≥–ª–∏:
- –°–æ–∑–¥–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–æ–ø–∏–π –¥–∞–Ω–Ω—ã—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–∞–º—è—Ç–∏
- –ó–∞–º–µ–¥–ª–∏—Ç—å JavaScript –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

---

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–ö–æ–¥ –æ—Ç–∫–∞—á–µ–Ω –∫ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏**

–§–∞–π–ª `server/repositories/estimatesRepository.js` –≤–µ—Ä–Ω—É–ª—Å—è –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é "–¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏":
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Å Promise.all –∏ N –∑–∞–ø—Ä–æ—Å–æ–≤
- –°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ (–º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Å—Ç–∞–±–∏–ª—å–Ω–æ)
- –ù–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ –æ—Å—Ç–∞–ª–æ—Å—å

---

## üéì –£—Ä–æ–∫–∏

### –ß—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:

1. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –¢–µ—Å—Ç —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä –±—ã–ª –ø–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–Ω—ã–º
   - –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ä–µ–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏
   - –ù–µ –ø–æ—Å–º–æ—Ç—Ä–µ–ª–∏ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞

2. **–°–ª–∏—à–∫–æ–º –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–∞—è –æ—Ü–µ–Ω–∫–∞**
   - –ü—Ä–µ–¥–ø–æ–ª–∞–≥–∞–ª–∏ —á—Ç–æ batch –∑–∞–ø—Ä–æ—Å –±—ã—Å—Ç—Ä–µ–µ
   - –ù–µ —É—á–ª–∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ PostgreSQL
   - –ù–µ –ø—Ä–æ–≤–µ—Ä–∏–ª–∏ –∏–Ω–¥–µ–∫—Å—ã

3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞**
   - –ù–µ –±—ã–ª–æ –º–µ—Ç—Ä–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
   - –ù–µ –≤–∏–¥–µ–ª–∏ SQL EXPLAIN
   - –ù–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–ª–∏ memory usage

---

## üö´ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –ß—Ç–æ –ù–ï –¥–µ–ª–∞—Ç—å:

‚ùå **–ù–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ë–î –∑–∞–ø—Ä–æ—Å—ã –±–µ–∑**:
- EXPLAIN ANALYZE –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∏ –∏–Ω–¥–µ–∫—Å–æ–≤
- –†–µ–∞–ª—å–Ω–æ–≥–æ –±–µ–Ω—á–º–∞—Ä–∫–∞ (–Ω–µ —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä, –∞ —á–µ—Ä–µ–∑ ab/wrk)

‚ùå **–ù–µ —Ç—Ä–æ–≥–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–π –∫–æ–¥** –±–µ–∑:
- Unit —Ç–µ—Å—Ç–æ–≤
- Integration —Ç–µ—Å—Ç–æ–≤
- Staging environment –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

‚ùå **–ù–µ –≤–µ—Ä–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ç–µ—Å—Ç–∞–º** –µ—Å–ª–∏:
- –ù–µ—Ç real-world –º–µ—Ç—Ä–∏–∫
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–∞—Ö
- –ß—Ç–æ-—Ç–æ –∫–∞–∂–µ—Ç—Å—è "—Å–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–∏–º —á—Ç–æ–±—ã –±—ã—Ç—å –ø—Ä–∞–≤–¥–æ–π"

---

## üí° –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã

### –í–º–µ—Å—Ç–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ë–î, –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å:

1. **SWR –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
   - –î–æ–±–∞–≤–∏—Ç—å `useSWR` –Ω–∞ frontend
   - –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –≤ –ø–∞–º—è—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–∞
   - –ú–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

2. **React.memo** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
   - –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
   - –£–º–µ–Ω—å—à–∏—Ç—å —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã
   - –£–ª—É—á—à–∏—Ç—å –æ—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å UI

3. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
   - react-virtuoso —É–∂–µ –µ—Å—Ç—å –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è—Ö
   - –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —Å—Ç—Ä–æ–∫–∏
   - –ú–µ–Ω—å—à–µ –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ DOM

4. **Code splitting** (–±–µ–∑–æ–ø–∞—Å–Ω–µ–µ)
   - –£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä bundle
   - Lazy loading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –ë—ã—Å—Ç—Ä–µ–µ –ø–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–µ—É–¥–∞—á

| –ü–æ–ø—ã—Ç–∫–∞ | –ü–æ–¥—Ö–æ–¥ | –†–µ–∑—É–ª—å—Ç–∞—Ç | –í—Ä–µ–º—è |
|---------|--------|-----------|-------|
| 1 | –ü–æ–ª–Ω—ã–π JOIN –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü | ‚ùå –ù–µ –∑–∞–≥—Ä—É–∑–∏–ª–∞—Å—å | - |
| 2 | Batch ANY($1) –¥–ª—è –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ | ‚ùå 5 –º–∏–Ω—É—Ç | 300 —Å–µ–∫ |
| **–û—Ä–∏–≥–∏–Ω–∞–ª** | **Promise.all N –∑–∞–ø—Ä–æ—Å–æ–≤** | **‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç** | **3-5 —Å–µ–∫** |

---

## üéØ –í—ã–≤–æ–¥

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î - —Å–ª–æ–∂–Ω–∞—è –∑–∞–¥–∞—á–∞**

–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ:
1. –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (EXPLAIN, pg_stat_statements)
2. –ú–µ—Ç—Ä–∏–∫–∏ (–≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞)
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
5. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±—ã—Å—Ç—Ä–æ–≥–æ –æ—Ç–∫–∞—Ç–∞

**–¢–µ–∫—É—â–∞—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: 
- ‚úÖ –û—Å—Ç–∞–≤–∏—Ç—å –ë–î –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é –Ω–∞ –ø–æ—Ç–æ–º
- ‚úÖ –°—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ frontend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è—Ö (SWR, memo, virtualization)
- ‚úÖ –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–æ–ø—ã—Ç–∫–∞–º–∏

---

**–ò–∑–≤–∏–Ω—è—é—Å—å –∑–∞ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞. –ö–æ–¥ –æ—Ç–∫–∞—á–µ–Ω –∫ —Ä–∞–±–æ—á–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é.**

